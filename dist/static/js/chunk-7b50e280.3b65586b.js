(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b50e280"],{2237:function(e,t,a){"use strict";var r=a("46a7"),n=a("4162"),i=a("d2cf"),o=a("4488"),l=a("7f99"),s=a("d2b9"),u=RangeError,c=String,m=Math.floor,h=n(l),p=n("".slice),y=n(1..toFixed),d=function(e,t,a){return 0===t?a:t%2===1?d(e,t-1,a*e):d(e*e,t/2,a)},f=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},v=function(e,t,a){var r=-1,n=a;while(++r<6)n+=t*e[r],e[r]=n%1e7,n=m(n/1e7)},g=function(e,t){var a=6,r=0;while(--a>=0)r+=e[a],e[a]=m(r/t),r=r%t*1e7},w=function(e){var t=6,a="";while(--t>=0)if(""!==a||0===t||0!==e[t]){var r=c(e[t]);a=""===a?r:a+h("0",7-r.length)+r}return a},x=s((function(){return"0.000"!==y(8e-5,3)||"1"!==y(.9,0)||"1.25"!==y(1.255,2)||"1000000000000000128"!==y(0xde0b6b3a7640080,0)}))||!s((function(){y({})}));r({target:"Number",proto:!0,forced:x},{toFixed:function(e){var t,a,r,n,l=o(this),s=i(e),m=[0,0,0,0,0,0],y="",x="0";if(s<0||s>20)throw u("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return c(l);if(l<0&&(y="-",l=-l),l>1e-21)if(t=f(l*d(2,69,1))-69,a=t<0?l*d(2,-t,1):l/d(2,t,1),a*=4503599627370496,t=52-t,t>0){v(m,0,a),r=s;while(r>=7)v(m,1e7,0),r-=7;v(m,d(10,r,1),0),r=t-1;while(r>=23)g(m,1<<23),r-=23;g(m,1<<r),v(m,1,1),g(m,2),x=w(m)}else v(m,0,a),v(m,1<<-t,0),x=w(m)+h("0",s);return s>0?(n=x.length,x=y+(n<=s?"0."+h("0",s-n)+x:p(x,0,n-s)+"."+p(x,n-s))):x=y+x,x}})},4488:function(e,t,a){var r=a("4162");e.exports=r(1..valueOf)},"4bb1":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("a567");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"4cef":function(e,t,a){"use strict";var r=a("4bb1"),n=a("e143"),i=function(){function e(t,a){Object(r["a"])(this,e),this.Cesium=t,this.viewer=a}return Object(n["a"])(e,[{key:"create",value:function(e){var t=this.Cesium,a=this.viewer,r=null!==e&&void 0!==e&&e.cesiumName?e.cesiumName:"",n=null!==e&&void 0!==e&&e.source?e.source:"",i=null!==e&&void 0!==e&&e.uniforms?e.uniforms:"";function o(){this._definitionChanged=new t.Event,this._color=void 0,this._colorSubscription=void 0,this.color=null!==e&&void 0!==e&&e.color?e.color:t.Color.BLUE,this.duration=null!==e&&void 0!==e&&e.duration?e.duration:1e3,this.image=null!==e&&void 0!==e&&e.image?e.image:"",this._time=(new Date).getTime()}Object.defineProperties(o.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:t.createPropertyDescriptor("color")});var l="Material".concat(parseInt(1e3*Math.random()));return o.prototype.getType=function(e){return l},o.prototype.getValue=function(e,r){return t.defined(r)||(r={}),r.color=t.Property.getValueOrClonedDefault(this._color,e,t.Color.WHITE,r.color),r.image=this.image,this.duration&&(r.time=((new Date).getTime()-this._time)%this.duration/this.duration),a.scene.requestRender(),r},o.prototype.equals=function(e){return this===e||e instanceof o&&t.Property.equals(this._color,e._color)},t.Material._materialCache.addMaterial(l,{fabric:{type:l,uniforms:i,source:n},translucent:function(e){return!0}}),t[r]=o,o}}]),e}();t["a"]=i},"78be":function(e,t,a){var r=a("46a7"),n=a("bc35"),i=a("5386");r({target:"Array",proto:!0},{fill:n}),i("fill")},"7d42":function(e,t,a){},"88c8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{attrs:{id:"cesiumContainer"}}),a("div",{staticClass:"operation-panel"},[a("el-select",{attrs:{size:"mini",placeholder:"请选择墙体类型"},model:{value:e.wallType,callback:function(t){e.wallType=t},expression:"wallType"}},e._l(e.wallTypeArr,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-button",{staticClass:"startButton",attrs:{size:"mini",disabled:""==e.wallType,type:"primary",plain:""},on:{click:e.startDraw}},[e._v("开始绘制")])],1)])},n=[],i=(a("decf"),a("eb3b"),a("78be"),a("4cef")),o=a("9e48"),l=[{label:"流动墙",value:"1",position:[123.4338589341694,41.811889939097895,123.43329581924921,41.81177873630029,123.43297281881931,41.811434437097255,123.43295567370998,41.81102812337492,123.43320435913063,41.81071804352293,123.43357881081174,41.81055765802799,123.43411333122562,41.81054910409206,123.43461355350443,41.810780058939656,123.43479363918155,41.81118637120609,123.4346707315803,41.811541361879385,123.43434772954672,41.811797982861705,123.4338589341694,41.811889939097895],title:"惠工广场"},{label:"波纹墙",value:"2",position:[123.38624525883692,41.794068393526416,123.38687089890857,41.79395971222164,123.38747418262378,41.7946536433207,123.38875897739584,41.7940600412453,123.3890159272599,41.79370053758991,123.38833443306693,41.79279761067365,123.38875895717108,41.79253843546213,123.38815568203603,41.79180272016025,123.38761944484679,41.7918863236855,123.38630123240169,41.79013897251926,123.38585437199272,41.79028945276436,123.38536283930766,41.789896494564125,123.38432387278195,41.79028940539239,123.38454728140016,41.79082448839793,123.38563087249528,41.792362844994635,123.38519515839681,41.792647091282724,123.38624525883692,41.794068393526416],title:"沈阳站"}],s=a("c407"),u=function(e){var t=function(e){if(e&&e.get){var t="czm_material czm_getMaterial(czm_materialInput materialInput)\n                    {\n                        czm_material material = czm_getDefaultMaterial(materialInput);\n                        vec2 st = materialInput.st;";return"vertical"==e.freely?t+="vec4 colorImage = texture2D(image, vec2(fract(st.s), fract(float("+e.count+")*st.t"+e.direction+" time)));\n ":t+="vec4 colorImage = texture2D(image, vec2(fract(float("+e.count+")*st.s "+e.direction+" time), fract(st.t)));\n ",t+="vec4 fragColor;\n                        fragColor.rgb = (colorImage.rgb+color.rgb) / 1.0;\n                        fragColor = czm_gammaCorrect(fragColor);\n                        material.diffuse = colorImage.rgb;\n                        material.alpha = colorImage.a;\n                        material.emission = fragColor.rgb;\n                        return material;\n                    }",t}};return{cesiumName:"Material_DynamicWallMaterialPropertys",image:"/cesium-template/Vue/Entity/wall/wl.png",color:e.Color.CYAN,duration:1500,uniforms:{color:new e.Color(1,0,0,.5),image:e.Material.DefaultImageId,time:-20},source:t({get:!0,count:3,freely:"vertical",direction:"-"})}},c=function(e){var t=function(){return"czm_material czm_getMaterial(czm_materialInput materialInput)\n            {\n                 czm_material material = czm_getDefaultMaterial(materialInput);\n                 vec2 st = materialInput.st;\n                 vec4 colorImage = texture2D(image, vec2(fract(st.s - time), st.t));\n                 material.alpha = colorImage.a * color.a;\n                 material.diffuse = (colorImage.rgb+color.rgb)/2.0;\n                 return material;\n             }"};return{cesiumName:"Material_TrailLineMaterialProperty",image:"/cesium-template/Vue/Entity/wall/flow.png",color:e.Color.RED.withAlpha(.5),duration:15e3,uniforms:{color:new e.Color(1,1,1,1),image:e.Material.DefaultImageId,time:0,constantSpeed:300,depthFailMaterial:!0},source:t()}},m=[{codeLanguage:"VUE",relyOn:[{label:"Entity.js",url:"cesium/Entity.js"},{label:"Materials/index.js",url:"cesium/Materials/index.js"},{label:"Utils.js",url:"cesium/Utils.js"},{label:"DynamicWallMaterialPropertys.js",url:"Vue/Entity/wall/material/DynamicWallMaterialPropertys.js"},{label:"TrailLineMaterialProperty.js",url:"Vue/Entity/wall/material/TrailLineMaterialProperty.js"},{label:"data.js",url:"Vue/Entity/wall/data.js"},{label:"wl.png",url:"Vue/Entity/wall/wl.png"},{label:"flow.png",url:"Vue/Entity/wall/flow.png"}],code:[{codeLanguage:"html",content:'<template>\n                      <div class="container">\n                        <div id="cesiumContainer"></div>\n                        <div class="operation-panel">\n                          <el-select size="mini" v-model="wallType" placeholder="请选择墙体类型">\n                            <el-option\n                              v-for="item in wallTypeArr"\n                              :key="item.value"\n                              :label="item.label"\n                              :value="item.value"\n                            >\n                            </el-option>\n                          </el-select>\n                          <el-button\n                            size="mini"\n                            :disabled="wallType == \'\'"\n                            @click="startDraw"\n                            class="startButton"\n                            type="primary"\n                            plain\n                            >开始绘制</el-button\n                          >\n                        </div>\n                      </div>\n                    </template>'},{codeLanguage:"js",content:'import Material from "@/common/cesium/Materials/index.js";\n                  import Entity from "@/common/cesium/Entity.js";\n                  import wallData from "./module/data.js";//数据\n                  import Utils from "@/common/cesium/Utils.js";\n                  import DynamicWallMaterialPropertys from "./module/material/DynamicWallMaterialPropertys"; //波纹墙\n                  import TrailLineMaterialProperty from "./module/material/TrailLineMaterialProperty"; //流动墙\n                  export default {\n                    name: "wall",\n                    data() {\n                      return {\n                        viewer: null,\n                        _Entity: null,\n                        _Utils: null,\n                        _Material: null,\n                        wallTypeArr: wallData,\n                        wallType: "",\n                      };\n                    },\n                    mounted() {\n                      this.init();\n                    },\n                    methods: {\n                      init() {\n                        const Cesium = this.cesium;\n                        Cesium.Ion.defaultAccessToken = process.env.VUE_APP_TOKEN;\n                        this.viewer = new Cesium.Viewer("cesiumContainer", {\n                          imageryProvider: new Cesium.ArcGisMapServerImageryProvider({\n                            url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",\n                          }),\n                          terrainProvider: new Cesium.CesiumTerrainProvider({\n                            //加载火星在线地形\n                            url: "http://data.marsgis.cn/terrain",\n                          }),\n                          shouldAnimate: true,\n                          infoBox: false,\n                          selectionIndicator: false,\n                        });\n                        //深度监听  在当前效果里可以设置贴地效果\n                        this.viewer.scene.globe.depthTestAgainstTerrain = true;\n                        this._Entity = new Entity(Cesium, this.viewer);\n                        this._Utils = new Utils();\n                        this._Material = new Material(Cesium, this.viewer);\n                      },\n                      /**\n                      * 开始绘制\n                      */\n                      startDraw() {\n                        const Cesium = this.cesium;\n                        //删除所有实体\n                        this._Entity.removeEntity({ type: "all" });\n                        //过滤出来需要的数据对象\n                        const filter_data = this.wallTypeArr.filter(\n                          (item) => item.value == this.wallType\n                        );\n                        if (filter_data.length == 0) return;\n                        const obj = filter_data[0];\n                        let material = null;\n                  \n                        //流动墙\n                        if (obj.value == "1") {\n                          this._Material.create(TrailLineMaterialProperty(Cesium));\n                          material = new Cesium.Material_TrailLineMaterialProperty();\n                        }\n                        //波纹墙\n                        if (obj.value == "2") {\n                          this._Material.create(DynamicWallMaterialPropertys(Cesium));\n                          material = new Cesium.Material_DynamicWallMaterialPropertys();\n                        }\n                  \n                        const positions = Cesium.Cartesian3.fromDegreesArray(obj.position);\n                        const wallEntity = this._Entity.createWall({\n                          positions,\n                          material,\n                          // common: { clampToGround: true },\n                          // 设置高度\n                          maximumHeights: new Array(positions.length).fill(200), //一个属性，它指定要用于墙顶的高度数组，而不是每个位置的高度\n                          minimunHeights: new Array(positions.length).fill(0), //一个属性，它指定要用于墙底而不是地球表面的高度数组。\n                        });\n                        this.viewer.flyTo(wallEntity);\n                      },\n                    },\n                  };'},{codeLanguage:"css",content:".container {\n                      width: 100%;\n                      height: 100%;\n                      #cesiumContainer {\n                        width: 100%;\n                        height: 100%;\n                      }\n                      .operation-panel {\n                        position: fixed;\n                        bottom: 0;\n                        right: 0;\n                        background-color: #fff;\n                        border-radius: 6px 0 0 0;\n                        padding: 20px;\n                        .startButton {\n                          margin-left: 10px;\n                        }\n                      }\n                    }"}]}],h={name:"wall",data:function(){return{viewer:null,_Entity:null,_Utils:null,_Material:null,wallTypeArr:l,wallType:""}},created:function(){this.$store.dispatch("highlight/set_code",m)},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",VUE_APP_GAODE_KEY_WEB_SERVICE:"181ced609de9d446207b55e549bafcb6",VUE_APP_GAODE_KEY_WEB_TERMINAL:"cb250acd7ee0e7b2049cb93747ae3d44",VUE_APP_PUBLIC_URL:"/cesium-template",VUE_APP_QINIU_URL:"http://re8r7gk9l.hb-bkt.clouddn.com",VUE_APP_SECURITY_JS_CODE:"2a0ce2005352672661417093c485a056",BASE_URL:"/cesium-template/"}).VUE_APP_TOKEN,this.viewer=new e.Viewer("cesiumContainer",{imageryProvider:new e.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new e.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!0,this._Entity=new o["a"](e,this.viewer),this._Utils=new s["a"],this._Material=new i["a"](e,this.viewer)},startDraw:function(){var e=this,t=this.cesium;this._Entity.removeEntity({type:"all"});var a=this.wallTypeArr.filter((function(t){return t.value==e.wallType}));if(0!=a.length){var r=a[0],n=null;"1"==r.value&&(this._Material.create(c(t)),n=new t.Material_TrailLineMaterialProperty),"2"==r.value&&(this._Material.create(u(t)),n=new t.Material_DynamicWallMaterialPropertys);var i=t.Cartesian3.fromDegreesArray(r.position),o=this._Entity.createWall({positions:i,material:n,maximumHeights:new Array(i.length).fill(200),minimunHeights:new Array(i.length).fill(0)});this.viewer.flyTo(o)}}}},p=h,y=(a("eff1"),a("cba8")),d=Object(y["a"])(p,r,n,!1,null,"103b3412",null);t["default"]=d.exports},bc35:function(e,t,a){"use strict";var r=a("735b"),n=a("32da"),i=a("1c60");e.exports=function(e){var t=r(this),a=i(t),o=arguments.length,l=n(o>1?arguments[1]:void 0,a),s=o>2?arguments[2]:void 0,u=void 0===s?a:n(s,a);while(u>l)t[l++]=e;return t}},c407:function(e,t,a){"use strict";var r=a("4bb1"),n=a("e143"),i=(a("eb3b"),a("2237"),a("a567"),function(){function e(t,a){Object(r["a"])(this,e),this.Cesium=t,this.viewer=a}return Object(n["a"])(e,[{key:"getRandomColor",get:function(){for(var e="#",t=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"],a=0;a<6;a++){var r=Math.floor(Math.random()*t.length+1)-1;e+=t[r]}return e}},{key:"operationDom",value:function(e,t,a){if("append"===e&&document.getElementById(t).appendChild(a),"remove"===e&&document.getElementById(t).remove(),"has"===e)return document.getElementById(t)}},{key:"debounce",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var n=this,i=arguments;if(t&&clearTimeout(t),r){var o=!t;t=setTimeout((function(){t=null}),a),o&&e.apply(n,i)}else t=setTimeout((function(){e.apply}),a)}}},{key:"throttle",value:function(e,t,a){var r,n=0;return function(){var i=this,o=arguments;if(1===a){var l=Date.now();l-n>t&&(e.apply(i,o),n=l)}else 2===a&&(r||(r=setTimeout((function(){r=null,e.apply(i,o)}),t)))}}},{key:"createScript",value:function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)}},{key:"loadJs",value:function(e,t){return new Promise((function(a,r){var n=document.createElement("script");n.type="text/javascript",null!==t&&void 0!==t&&t.async&&t.async&&(n.async="async"),null!==t&&void 0!==t&&t.defer&&t.defer&&(n.defer="defer");var i="body";null!==t&&void 0!==t&&t.append&&t.append&&("body"==t.append||"head"==t.append)&&(i=t.append),n.src=e,document[i].appendChild(n),n.onload=function(){a()},n.onerror=function(){r()}}))}},{key:"randomPoint",value:function(e){var t=e.start,a=e.end,r=e.range||1e3,n=e.height||0,i=e.type||"cartesian3",o=this.Cesium;function l(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var s=l(t[0]*r,a[0]*r)/r,u=l(t[1]*r,a[1]*r)/r;return"cartesian3"==i?o.Cartesian3.fromDegrees(s,u,n):"jwd"==i?[s,u,n]:void 0}},{key:"getEntityPosition",value:function(e){var t=this.Cesium;return e.position?e.position._value||t.Property.getValueOrUndefined(e.position,this.viewer.clock.currentTime||t.JulianDate.now(),new t.Cartesian3):void 0}},{key:"toDegrees",value:function(e){var t=this.Cesium;if(this.isDegreesOrCartesian(e)){var a=function(e){var a=new t.Cartesian3(e.x,e.y,e.z),r=t.Cartographic.fromCartesian(a);return{lng:parseFloat(t.Math.toDegrees(r.longitude).toFixed(8)),lat:parseFloat(t.Math.toDegrees(r.latitude).toFixed(8)),alt:parseFloat(r.height.toFixed(8))}};return e.x&&(e=a(e)),e}}},{key:"getCameraInfo",value:function(){var e=this.viewer;if(e&&e.camera&&e.camera.position&&e.camera.heading){var t=this.toDegrees(e.camera.position),a=Cesium.Math.toDegrees(e.camera.heading),r=Cesium.Math.toDegrees(e.camera.pitch),n=Cesium.Math.toDegrees(e.camera.roll);return{heading:parseFloat(a).toFixed(5),pitch:parseFloat(r).toFixed(5),roll:parseFloat(n).toFixed(5),lng:parseFloat(t.lng).toFixed(7),lat:parseFloat(t.lat).toFixed(7),alt:parseFloat(t.alt).toFixed(2)}}throw new Error("Error in Parameter!")}},{key:"isDegreesOrCartesian",value:function(e){if(!e)throw new Error("Error in Parameter!");return"number"===typeof e.x&&"number"===typeof e.y&&"number"===typeof e.z||"number"===typeof e.lng&&"number"===typeof e.lat}},{key:"toCartesian",value:function(e){var t=this.Cesium;if(this.isDegreesOrCartesian(e)){var a=function(e){return t.Cartesian3.fromDegrees(e.lng,e.lat,e.alt||0)};return e.lng&&(e=a(e)),e}}},{key:"point2LineDistance",value:function(e,t,a){e=this.toCartesian(e),t=this.toCartesian(t),a=this.toCartesian(a);var r=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)),n=Math.sqrt(Math.pow(e.x-a.x,2)+Math.pow(e.y-a.y,2)+Math.pow(e.z-a.z,2)),i=Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2)+Math.pow(a.z-t.z,2)),o=(Math.pow(n,2)+Math.pow(r,2)-Math.pow(i,2))/(2*r*n),l=Math.sqrt(1-Math.pow(o,2)),s=((e.x-a.x)*(e.x-t.x)+(e.y-a.y)*(e.y-t.y)+(e.z-a.z)*(e.z-t.z))/(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2));return s<0?n:s<=1&&s>=0?n*l:s>1?i:void 0}},{key:"countArea",value:function(e){if(!e||e.length<3)throw new Error("Error in Parameter!");for(var t=0,a=0;a<e.length;a++){var r=(a+1)%e.length,n=e[a],i=e[r];n=this.toCartesian(n),i=this.toCartesian(i),t+=n.x*i.y,t-=n.y*i.x}return t/=2,Math.abs(t)}},{key:"countAreaByThreePoints",value:function(e,t,a){e=this.toCartesian(e),t=this.toCartesian(t),a=this.toCartesian(a);var r=-1,n=[];if(n[0]=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)),n[1]=Math.sqrt(Math.pow(e.x-a.x,2)+Math.pow(e.y-a.y,2)+Math.pow(e.z-a.z,2)),n[2]=Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2)+Math.pow(a.z-t.z,2)),n[0]+n[1]<=n[2]||n[0]+n[2]<=n[1]||n[1]+n[2]<=n[0])return r;var i=(n[0]+n[1]+n[2])/2;return r=Math.sqrt(i*(i-n[0])*(i-n[1])*(i-n[2])),r}},{key:"getDistance",value:function(e,t){if(!e||!t)throw new Error("Error in Parameter!");return e=this.toCartesian(e),t=this.toCartesian(t),Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2))}},{key:"getNormal",value:function(e,t,a){e=this.toCartesian(e),t=this.toCartesian(t),a=this.toCartesian(a);var r=(t.y-e.y)*(a.z-e.z)-(t.z-e.z)*(a.y-e.y),n=(t.z-e.z)*(a.x-e.x)-(t.x-e.x)*(a.z-e.z),i=(t.x-e.x)*(a.y-e.y)-(t.y-e.y)*(a.x-e.x);return{x:r,y:n,z:i}}},{key:"countIntersectionOfLineAndPlane",value:function(e,t,a,r){var n,i,o,l,s,u,c,m,h,p,y,d,f,v;n=e.x,i=e.y,o=e.z,l=t.x,s=t.y,u=t.z,c=a.x,m=a.y,h=a.z,p=r.x,y=r.y,d=r.z,v=c*n+m*i+h*o;var g={};if(0!==v)return f=((l-p)*n+(s-y)*i+(u-d)*o)/v,g.x=p+c*f,g.y=y+m*f,g.z=d+h*f,g}},{key:"getPointInPolygon",value:function(){var e=this.getNormal(polygon[0],polygon[1],polygon[2]),t=line[0].x-line[1].x,a=line[0].y-line[1].y,r=line[0].z-line[1].z,n={x:t,y:a,z:r},i=this.countIntersectionOfLineAndPlane(e,polygon[1],n,line[0]);return i||!1}},{key:"isPointInQuadrilateral",value:function(){var e,t,a,r,n,i,o,l,s,u,c;o=this.getDistance(quadrilateral[0],quadrilateral[1]),l=this.getDistance(quadrilateral[1],quadrilateral[2]),s=this.getDistance(quadrilateral[0],quadrilateral[2]),u=this.getDistance(quadrilateral[2],quadrilateral[3]),c=this.getDistance(quadrilateral[3],quadrilateral[4]);var m,h,p,y,d=(o+l+s)/2,f=(s+u+c)/2;e=Math.sqrt(d*(d-o)*(d-l)*(d-s)),t=Math.sqrt(f*(f-s)*(f-u)*(f-c)),m=this.getDistance(point,quadrilateral[0]),h=this.getDistance(point,quadrilateral[1]),p=this.getDistance(point,quadrilateral[2]),y=this.getDistance(point,quadrilateral[3]);var v=(o+m+h)/2,g=(l+h+p)/2,w=(u+p+y)/2,x=(c+y+m)/2;return a=Math.sqrt(v*(v-o)*(v-m)*(v-h)),r=Math.sqrt(g*(g-l)*(g-h)*(g-p)),n=Math.sqrt(w*(w-u)*(w-p)*(w-y)),i=Math.sqrt(x*(x-c)*(x-y)*(x-m)),!(Math.abs(a+r+n+i-(e+t))>1e-4)}},{key:"JudgePointInPolygon",value:function(e,t){var a,r,n,i,o,l,s,u,c=function(e,t){return e.y*t.z-t.y*e.z+(e.z*t.x-e.x*t.z)+(e.x*t.y-e.y*t.x)},m=t[0],h=t[1],p=t[2],y=t[3];return a={x:h.x-m.x,y:h.y-m.y,z:h.z-m.z},r={x:e.x-m.x,y:e.y-m.y,z:e.z-m.z},n={x:y.x-p.x,y:y.y-p.y,z:y.z-p.z},i={x:e.x-p.x,y:e.y-p.y,z:e.z-p.z},o={x:p.x-h.x,y:p.y-h.y,z:p.z-h.z},l={x:e.x-h.x,y:e.y-h.y,z:e.z-h.z},s={x:y.x-m.x,y:y.y-m.y,z:y.z-m.z},u={x:e.x-y.x,y:e.y-y.y,z:e.z-y.z},!(c(a,r)*c(n,i)>=0&&c(o,l)*c(s,u)>=0)}},{key:"JudgePointInPolyline",value:function(e,t){var a=Math.sqrt(Math.pow(t[0].x-t[1].x,2)+Math.pow(t[0].y-t[1].y,2)+Math.pow(t[0].z-t[1].z,2)),r=Math.sqrt(Math.pow(e.x-t[1].x,2)+Math.pow(e.y-t[1].y,2)+Math.pow(e.z-t[1].z,2)),n=Math.sqrt(Math.pow(e.x-t[0].x,2)+Math.pow(e.y-t[0].y,2)+Math.pow(e.z-t[0].z,2)),i=r+n-a;return 1e4*i<1}},{key:"GetPanelEquation",value:function(e){var t,a,r,n;if(!(e.length<3))return t=e[0].y*(e[1].z-e[2].z)+e[1].y*(e[2].z-e[0].z)+e[2].y*(e[0].z-e[1].z),a=e[0].z*(e[1].x-e[2].x)+e[1].z*(e[2].x-e[0].x)+e[2].z*(e[0].x-e[1].x),r=e[0].x*(e[1].y-e[2].y)+e[1].x*(e[2].y-e[0].y)+e[2].x*(e[0].y-e[1].y),n=-e[0].x*(e[1].y*e[2].z-e[2].y*e[1].z)-e[1].x*(e[2].y*e[0].z-e[0].y*e[2].z)-e[2].x*(e[0].y*e[1].z-e[1].y*e[0].z),{A:t,B:a,C:r,D:n}}}]),e}());t["a"]=i},e143:function(e,t,a){"use strict";function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}a.d(t,"a",(function(){return n}))},eff1:function(e,t,a){"use strict";a("7d42")}}]);