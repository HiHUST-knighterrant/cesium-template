(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7228e716"],{"07be":function(t,e,n){"use strict";var i=n("4e59"),r=n("5acb"),o=n("8805"),a=n("430f"),s=n("4551"),c=n("d103"),u=n("3954"),f=n("d560"),l=n("12ce"),d=n("2691"),v=d("splice"),p=Math.max,h=Math.min;i({target:"Array",proto:!0,forced:!v},{splice:function(t,e){var n,i,d,v,m,b,y=r(this),g=s(y),w=o(t,g),x=arguments.length;for(0===x?n=i=0:1===x?(n=0,i=g-w):(n=x-2,i=h(p(a(e),0),g-w)),c(g+n-i),d=u(y,i),v=0;v<i;v++)m=w+v,m in y&&f(d,v,y[m]);if(d.length=i,n<i){for(v=w;v<g-i;v++)m=v+i,b=v+n,m in y?y[b]=y[m]:l(y,b);for(v=g;v>g-i+n;v--)l(y,v-1)}else if(n>i)for(v=g-i;v>w;v--)m=v+i-1,b=v+n-1,m in y?y[b]=y[m]:l(y,b);for(v=0;v<n;v++)y[v+w]=arguments[v+2];return y.length=g-i+n,d}})},"12ce":function(t,e,n){"use strict";var i=n("bd13"),r=TypeError;t.exports=function(t,e){if(!delete t[e])throw r("Cannot delete property "+i(e)+" of "+i(t))}},"2bc0":function(t,e,n){var i=n("cfb8");t.exports=i((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},"2c5e":function(t,e,n){"use strict";n("bcf6")},"42d0":function(t,e,n){"use strict";var i=n("4e59"),r=n("da30"),o=n("e824"),a=n("8a2f"),s=n("b0b0"),c=n("e2dc"),u=n("126d"),f=n("5969"),l=n("086e"),d=n("ca36"),v=n("cfb8"),p=n("87ea"),h=n("c54e"),m=n("aeb3");t.exports=function(t,e,n){var b=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),g=b?"set":"add",w=r[t],x=w&&w.prototype,_=w,C={},E=function(t){var e=o(x[t]);s(x,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!d(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return y&&!d(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!d(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},O=a(t,!l(w)||!(y||x.forEach&&!v((function(){(new w).entries().next()}))));if(O)_=n.getConstructor(e,t,b,g),c.enable();else if(a(t,!0)){var S=new _,A=S[g](y?{}:-0,1)!=S,j=v((function(){S.has(1)})),P=p((function(t){new w(t)})),k=!y&&v((function(){var t=new w,e=5;while(e--)t[g](e,e);return!t.has(-0)}));P||(_=e((function(t,e){f(t,x);var n=m(new w,t,_);return void 0!=e&&u(e,n[g],{that:n,AS_ENTRIES:b}),n})),_.prototype=x,x.constructor=_),(j||k)&&(E("delete"),E("has"),b&&E("get")),(k||A)&&E(g),y&&x.clear&&delete x.clear}return C[t]=_,i({global:!0,constructor:!0,forced:_!=w},C),h(_,t),y||n.setStrong(_,t,b),_}},"44d9":function(t,e,n){n("9948")},"4ec7":function(t,e,n){},"5e3e":function(t,e,n){var i=n("cfb8");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},"696f":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("8b89"),n("13b6"),n("67ad"),n("cca2"),n("d8e0"),n("f4d8"),n("9c52");var i=n("9680");function r(t,e){if(t){if("string"===typeof t)return Object(i["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i["a"])(t,e):void 0}}},6987:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"cesiumContainer"}}),t._l(t.dataPosition,(function(e,i){return n("div",{key:i},[n("popup-dom",{directives:[{name:"show",rawName:"v-show",value:-1!=JSON.stringify(t.show_list).indexOf(e.id),expression:"JSON.stringify(show_list).indexOf(item.id) != -1"}],attrs:{item:e},on:{close:t.popupClose}})],1)}))],2)},r=[],o=n("9680");function a(t){if(Array.isArray(t))return Object(o["a"])(t)}n("9f90"),n("efe6"),n("13b6"),n("8c9d"),n("d8e0"),n("30d8"),n("cca2");function s(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var c=n("696f");n("d3f5");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){return a(t)||s(t)||Object(c["a"])(t)||u()}n("4390"),n("67ad"),n("13a9"),n("44d9"),n("07be");var l=n("896e"),d={lng:123.42840294759996,lat:41.81072850022128,height:5517},v=[{id:Object(l["a"])(),lng:123.42786580298868,lat:41.80191390065372,height:0,title:"市府广场",area:"66200平方米",year:"1911"},{id:Object(l["a"])(),lng:123.43378100090162,lat:41.811274298820095,height:0,title:"惠工广场",area:"",year:""},{id:Object(l["a"])(),lng:123.42942835160613,lat:41.81700147554745,height:0,title:"沈阳北站",area:"12.11万平方米",year:"1913"}],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popupDom",attrs:{id:t.item.id}},[n("div",{staticClass:"close",on:{click:t.close}},[t._v("×")]),n("div",{staticClass:"title"},[t._v(t._s(t.item.title))]),n("div",{staticClass:"info-view"},[n("div",{staticClass:"info-item"},[n("div",{staticClass:"label"},[t._v("建筑面积：")]),n("div",{staticClass:"value"},[""!=t.item.area?[t._v(t._s(t.item.area))]:[t._v("未知")]],2)]),n("div",{staticClass:"info-item"},[n("div",{staticClass:"label"},[t._v("建筑年份：")]),n("div",{staticClass:"value"},[""!=t.item.year?[t._v(t._s(t.item.year))]:[t._v("未知")]],2)])]),n("div",{staticClass:"triangle"})])},h=[],m={name:"popupDom",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{close:function(){this.$emit("close",this.item.id)}}},b=m,y=(n("7447"),n("cba8")),g=Object(y["a"])(b,p,h,!1,null,"46c69291",null),w=g.exports,x=n("9e48"),_={name:"htmlPopup",components:{popupDom:w},data:function(){return{viewer:null,_Entity:null,handler:null,dataPosition:v,show_list:[]}},mounted:function(){this.init()},methods:{init:function(){var t=this.cesium;t.Ion.defaultAccessToken=Object({VUE_APP_BASE_API:"/prod-api",NODE_ENV:"production",BASE_URL:""}).VUE_APP_TOKEN,this.viewer=new t.Viewer("cesiumContainer",{imageryProvider:new t.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new t.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1,this._Entity=new x["a"](t,this.viewer),this.handler=new t.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.start(),this.popupPosition(),this.viewer.camera.flyTo({destination:t.Cartesian3.fromDegrees(d.lng,d.lat,d.height),orientation:{heading:t.Math.toRadians(0),pitch:t.Math.toRadians(-90),roll:0},duration:3})},start:function(){var t=this,e=this.cesium;this.dataPosition.map((function(n){t._Entity.createPoint({id:n.id,name:n.name,position:e.Cartesian3.fromDegrees(n.lng,n.lat),color:e.Color.CHARTREUSE.withAlpha(1),pixelSize:10,heightReference:e.HeightReference.CLAMP_TO_GROUND,outlineColor:e.Color.WHITE,outlineWidth:1})})),this.handler.setInputAction((function(e){var n=t.viewer.scene.pick(e.position);if(n){var i=t.dataPosition.filter((function(t){return t.id==n.id._id}))[0];t.show_list.push(i.id),t.show_list=f(new Set(t.show_list))}}),e.ScreenSpaceEventType.LEFT_CLICK)},popupPosition:function(){for(var t=this,e=this.cesium,n=function(n){var i=t.dataPosition[n],r=document.getElementById(i.id);t.viewer.scene.preRender.addEventListener((function(){var n=e.Cartesian3.fromDegrees(i.lng,i.lat,0),o=t.viewer.scene.cartesianToCanvasCoordinates(n,new e.Cartesian2);e.defined(o)&&(r.style.top=o.y-r.offsetHeight+20+"px",r.style.left=o.x+r.offsetWidth-40+"px")}))},i=0;i<this.dataPosition.length;i++)n(i)},popupClose:function(t){var e=this.show_list.indexOf(t);this.show_list.splice(e,1)}}},C=_,E=(n("2c5e"),Object(y["a"])(C,i,r,!1,null,"5f131c11",null));e["default"]=E.exports},7447:function(t,e,n){"use strict";n("4ec7")},"896e":function(t,e,n){"use strict";var i,r=new Uint8Array(16);function o(){if(!i&&(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(t){return"string"===typeof t&&a.test(t)}for(var c=s,u=[],f=0;f<256;++f)u.push((f+256).toString(16).substr(1));function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n}var d=l;function v(t,e,n){t=t||{};var i=t.random||(t.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return d(i)}e["a"]=v},"94be":function(t,e,n){var i=n("b0b0");t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},9680:function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"a",(function(){return i}))},9948:function(t,e,n){"use strict";var i=n("42d0"),r=n("b4cf");i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},b4cf:function(t,e,n){"use strict";var i=n("a3d4").f,r=n("34b0"),o=n("94be"),a=n("8a5a"),s=n("5969"),c=n("126d"),u=n("4141"),f=n("6da3"),l=n("b2e9"),d=n("e2dc").fastKey,v=n("20b8"),p=v.set,h=v.getterFor;t.exports={getConstructor:function(t,e,n,u){var f=t((function(t,i){s(t,v),p(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=i&&c(i,t[u],{that:t,AS_ENTRIES:n})})),v=f.prototype,m=h(e),b=function(t,e,n){var i,r,o=m(t),a=y(t,e);return a?a.value=n:(o.last=a={index:r=d(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),l?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},y=function(t,e){var n,i=m(t),r=d(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return o(v,{clear:function(){var t=this,e=m(t),n=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,l?e.size=0:t.size=0},delete:function(t){var e=this,n=m(e),i=y(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),l?n.size--:e.size--}return!!i},forEach:function(t){var e,n=m(this),i=a(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!y(this,t)}}),o(v,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),l&&i(v,"size",{get:function(){return m(this).size}}),f},setStrong:function(t,e,n){var i=e+" Iterator",r=h(e),o=h(i);u(t,e,(function(t,e){p(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},bcf6:function(t,e,n){},e2dc:function(t,e,n){var i=n("4e59"),r=n("e824"),o=n("9cf9"),a=n("ca36"),s=n("aa7f"),c=n("a3d4").f,u=n("6838"),f=n("95b70"),l=n("e5b8"),d=n("b688"),v=n("5e3e"),p=!1,h=d("meta"),m=0,b=function(t){c(t,h,{value:{objectID:"O"+m++,weakData:{}}})},y=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,h)){if(!l(t))return"F";if(!e)return"E";b(t)}return t[h].objectID},g=function(t,e){if(!s(t,h)){if(!l(t))return!0;if(!e)return!1;b(t)}return t[h].weakData},w=function(t){return v&&p&&l(t)&&!s(t,h)&&b(t),t},x=function(){_.enable=function(){},p=!0;var t=u.f,e=r([].splice),n={};n[h]=1,t(n).length&&(u.f=function(n){for(var i=t(n),r=0,o=i.length;r<o;r++)if(i[r]===h){e(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},_=t.exports={enable:x,fastKey:y,getWeakData:g,onFreeze:w};o[h]=!0},e5b8:function(t,e,n){var i=n("cfb8"),r=n("ca36"),o=n("25ce"),a=n("2bc0"),s=Object.isExtensible,c=i((function(){s(1)}));t.exports=c||a?function(t){return!!r(t)&&((!a||"ArrayBuffer"!=o(t))&&(!s||s(t)))}:s}}]);