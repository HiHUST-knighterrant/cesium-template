(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f2ab922"],{"6ada":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container"},[t("div",{attrs:{id:"cesiumContainer"}}),t("div",{staticClass:"tip-view"},[t("div",{staticClass:"tip"},[e._v("鼠标右键点击 停止绘制")]),t("el-button",{staticClass:"button",attrs:{type:"primary",plain:""},on:{click:e.start}},[e._v("开始绘制")])],1)])},r=[],a=(t("d354"),t("9e48")),s=[{codeLanguage:"VUE",relyOn:[{label:"Entity.js",url:"cesium/Entity.js"}],code:[{codeLanguage:"html",content:'<div class="container">\n                    <div id="cesiumContainer"></div>\n                    <div class="tip-view">\n                      <div class="tip">鼠标右键点击 停止绘制</div>\n                      <el-button class="button" type="primary" @click="start" plain\n                        >开始绘制</el-button\n                      >\n                    </div>\n                  </div>'},{codeLanguage:"js",content:'import Entity from "@/common/cesium/Entity.js";\n                  export default {\n                    name: "drawPoint",\n                    data() {\n                      return {\n                        viewer: null,\n                        _Entity: null,\n                        handler: null,\n                        cesiumContainer: null,\n                        EntityData: [],\n                      };\n                    },\n                    mounted() {\n                      this.init();\n                    },\n                    methods: {\n                      init() {\n                        const Cesium = this.cesium;\n                        Cesium.Ion.defaultAccessToken = process.env.VUE_APP_TOKEN;\n                        this.viewer = new Cesium.Viewer("cesiumContainer", {\n                          imageryProvider: new Cesium.ArcGisMapServerImageryProvider({\n                            url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",\n                          }),\n                          terrainProvider: new Cesium.CesiumTerrainProvider({\n                            //加载火星在线地形\n                            url: "http://data.marsgis.cn/terrain",\n                          }),\n                          shouldAnimate: true,\n                          infoBox: false,\n                          selectionIndicator: false,\n                        });\n                        //设置贴地效果\n                        this.viewer.scene.globe.depthTestAgainstTerrain = false;\n                        this._Entity = new Entity(Cesium, this.viewer);\n                        this.cesiumContainer = document.getElementById("cesiumContainer");\n                        // this.start();\n                  \n                        //相机\n                        this.viewer.camera.flyTo({\n                          //setView是直接跳到 flyTo// 是镜头飞行到  网速不好或者电脑配置不高 还是不要fly了吧\n                          destination: Cesium.Cartesian3.fromDegrees(\n                            -75.59742934002912,\n                            40.03824624260394,\n                            5000\n                          ), //经纬度坐标转换为 笛卡尔坐标(世界坐标)\n                          orientation: {\n                            heading: Cesium.Math.toRadians(0.0), // east, default value is 0.0 (north) //东西南北朝向\n                            pitch: Cesium.Math.toRadians(-90), // default value (looking down)  //俯视仰视视觉\n                            roll: 0.0, // default value\n                          },\n                          duration: 3, //3秒到达战场\n                        });\n                      },\n                      /**\n                       * 开始\n                       */\n                      start() {\n                        const Cesium = this.cesium;\n                        this.handler = new Cesium.ScreenSpaceEventHandler(\n                          this.viewer.scene.canvas\n                        );\n                        this.cesiumContainer.style.cursor = "crosshair";\n                        //鼠标左键点击\n                        this.handler.setInputAction((event) => {\n                          const ray = this.viewer.camera.getPickRay(event.position);\n                          if (!ray) return null;\n                          const position = this.viewer.scene.globe.pick(ray, this.viewer.scene);\n                          const _EntityData = this._Entity.createPoint({\n                            position,\n                            color: Cesium.Color.SKYBLUE,\n                            pixelSize: 10,\n                            outlineColor: Cesium.Color.YELLOW,\n                            outlineWidth: 3,\n                            disableDepthTestDistance: Number.POSITIVE_INFINITY,\n                          });\n                          this.EntityData.push(_EntityData);\n                        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n                        //鼠标右键点击\n                        this.handler.setInputAction((event) => {\n                          this.handler.destroy(); //关闭事件句柄\n                          this.handler = null;\n                          this.cesiumContainer.style.cursor = "unset";\n                        }, Cesium.ScreenSpaceEventType.RIGHT_CLICK);\n                      },\n                    },\n                  };'},{codeLanguage:"css",content:".container {\n                      width: 100%;\n                      height: 100%;\n                      #cesiumContainer {\n                        width: 100%;\n                        height: 100%;\n                      }\n                      .tip-view {\n                        position: fixed;\n                        bottom: 0;\n                        right: 0;\n                        background-color: rgba(255, 255, 255, 1);\n                        z-index: 2;\n                        padding: 20px;\n                        border-radius: 10px 0 0 0;\n                        .tip {\n                          color: #e6a23c;\n                        }\n                        .button {\n                          margin-top: 10px;\n                        }\n                      }\n                    }"}]}],o={name:"drawPoint",data:function(){return{viewer:null,_Entity:null,handler:null,cesiumContainer:null,EntityData:[]}},created:function(){this.$store.dispatch("highlight/set_code",s)},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken=Object({VUE_APP_BASE_API:"/prod-api",VUE_APP_PUBLIC_URL:"/cesium-template",VUE_APP_GAODE_KEY_WEB_SERVICE:"181ced609de9d446207b55e549bafcb6",VUE_APP_GAODE_KEY_WEB_TERMINAL:"cb250acd7ee0e7b2049cb93747ae3d44",VUE_APP_SECURITY_JS_CODE:"2a0ce2005352672661417093c485a056",NODE_ENV:"production",BASE_URL:"/cesium-template/"}).VUE_APP_TOKEN,this.viewer=new e.Viewer("cesiumContainer",{imageryProvider:new e.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new e.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1,this._Entity=new a["a"](e,this.viewer),this.cesiumContainer=document.getElementById("cesiumContainer"),this.viewer.camera.flyTo({destination:e.Cartesian3.fromDegrees(-75.59742934002912,40.03824624260394,5e3),orientation:{heading:e.Math.toRadians(0),pitch:e.Math.toRadians(-90),roll:0},duration:3})},start:function(){var e=this,n=this.cesium;this.handler=new n.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.cesiumContainer.style.cursor="crosshair",this.handler.setInputAction((function(t){var i=e.viewer.camera.getPickRay(t.position);if(!i)return null;var r=e.viewer.scene.globe.pick(i,e.viewer.scene),a=e._Entity.createPoint({position:r,color:n.Color.SKYBLUE,pixelSize:10,outlineColor:n.Color.YELLOW,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY});e.EntityData.push(a)}),n.ScreenSpaceEventType.LEFT_CLICK),this.handler.setInputAction((function(n){e.handler.destroy(),e.handler=null,e.cesiumContainer.style.cursor="unset"}),n.ScreenSpaceEventType.RIGHT_CLICK)}}},c=o,u=(t("6d21"),t("cba8")),l=Object(u["a"])(c,i,r,!1,null,"52fd113f",null);n["default"]=l.exports},"6d21":function(e,n,t){"use strict";t("708c")},"708c":function(e,n,t){},8611:function(e,n,t){var i=t("4e59"),r=t("bb06"),a=t("6763");i({target:"Array",proto:!0},{fill:r}),a("fill")},a2d2:function(e,n,t){var i=t("e824");e.exports=i(1..valueOf)},a35b:function(e,n,t){"use strict";function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}t.d(n,"a",(function(){return r}))},bb06:function(e,n,t){"use strict";var i=t("5acb"),r=t("8805"),a=t("4551");e.exports=function(e){var n=i(this),t=a(n),s=arguments.length,o=r(s>1?arguments[1]:void 0,t),c=s>2?arguments[2]:void 0,u=void 0===c?t:r(c,t);while(u>o)n[o++]=e;return n}},c15f:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));t("d3f5");function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},d354:function(e,n,t){"use strict";var i=t("b2e9"),r=t("da30"),a=t("e824"),s=t("8a2f"),o=t("b0b0"),c=t("aa7f"),u=t("aeb3"),l=t("cf21"),d=t("041a"),h=t("6a19"),p=t("cfb8"),m=t("6838").f,v=t("c798").f,f=t("a3d4").f,E=t("a2d2"),y=t("eecf").trim,b="Number",C=r[b],g=C.prototype,I=r.TypeError,_=a("".slice),w=a("".charCodeAt),T=function(e){var n=h(e,"number");return"bigint"==typeof n?n:A(n)},A=function(e){var n,t,i,r,a,s,o,c,u=h(e,"number");if(d(u))throw I("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=y(u),n=w(u,0),43===n||45===n){if(t=w(u,2),88===t||120===t)return NaN}else if(48===n){switch(w(u,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(a=_(u,2),s=a.length,o=0;o<s;o++)if(c=w(a,o),c<48||c>r)return NaN;return parseInt(a,i)}return+u};if(s(b,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var P,S=function(e){var n=arguments.length<1?0:C(T(e)),t=this;return l(g,t)&&p((function(){E(t)}))?u(Object(n),t,S):n},N=i?m(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),L=0;N.length>L;L++)c(C,P=N[L])&&!c(S,P)&&f(S,P,v(C,P));S.prototype=g,g.constructor=S,o(r,b,S,{constructor:!0})}}}]);