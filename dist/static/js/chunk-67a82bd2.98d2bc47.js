(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67a82bd2"],{"095e":function(e,t,i){"use strict";var n=i("a27a"),a=i("696d"),o=i("8dc7"),r=i("cd24"),l=i("5a12"),s=i("494e"),c=i("c1cc"),u=i("ebfd");a("search",(function(e,t,i){return[function(t){var i=r(this),a=void 0==t?void 0:c(t,e);return a?n(a,t,i):new RegExp(t)[e](s(i))},function(e){var n=o(this),a=s(e),r=i(t,n,a);if(r.done)return r.value;var c=n.lastIndex;l(c,0)||(n.lastIndex=0);var d=u(n,a);return l(n.lastIndex,c)||(n.lastIndex=c),null===d?-1:d.index}]}))},"30db":function(e,t,i){"use strict";i("dca7")},"59ef":function(e,t,i){"use strict";i("7455")},"5a12":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},7455:function(e,t,i){},8968:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("div",{attrs:{id:"cesiumContainer"}}),i("el-button",{staticClass:"tools",attrs:{type:"primary",icon:"el-icon-s-tools",circle:""},on:{click:function(t){e.poiPanelShow=!e.poiPanelShow}}}),i("poi-Panel",{attrs:{show:e.poiPanelShow},on:{close:function(t){e.poiPanelShow=!1},load:e.load,poisClick:e.poisClick}})],1)},a=[],o=i("d941"),r=i("c3ae"),l=(i("840d"),i("209b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-drawer",{attrs:{title:"操作面板",visible:e.drawer,size:"500px",direction:"rtl","before-close":e.handleClose},on:{"update:visible":function(t){e.drawer=t}}},[i("div",{staticClass:"POI-panel"},[i("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.panelType,callback:function(t){e.panelType=t},expression:"panelType"}},e._l(e.panelTypeArr,(function(e,t){return i("el-tab-pane",{key:t,attrs:{label:e.label,name:e.value}})})),1),"1"==e.panelType?i("section",{staticClass:"pois"},[i("div",{staticClass:"form-view"},[i("div",{staticClass:"form-item"},[i("div",{staticClass:"form-label"},[e._v("范围：")]),i("div",{staticClass:"form-value"},[i("el-radio-group",{attrs:{size:"mini"},model:{value:e.range,callback:function(t){e.range=t},expression:"range"}},[i("el-radio",{attrs:{label:"city"}},[e._v("城市")]),i("el-radio",{attrs:{label:"all"}},[e._v("全国")])],1)],1)]),i("div",{staticClass:"form-item"},[i("div",{staticClass:"form-label"},[e._v("城市：")]),i("div",{staticClass:"form-value"},[i("el-cascader",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:"",disabled:"all"==e.range,props:{children:"districtList",label:"name",value:"adcode"},placeholder:"城市选择...",options:e.cityOptions},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1)]),i("div",{staticClass:"form-item multiple"},[i("div",{staticClass:"form-label"},[e._v("兴趣点类别：")]),i("div",{staticClass:"form-value"},[i("el-select",{staticClass:"select",attrs:{size:"mini",multiple:"",placeholder:"请选择兴趣类别（可多选）"},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.placeSearchType,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]),i("div",{staticClass:"form-item search"},[i("el-input",{attrs:{size:"mini",placeholder:"请输入搜索关键词",clearable:""},on:{change:e.search},model:{value:e.keyword,callback:function(t){e.keyword="string"===typeof t?t.trim():t},expression:"keyword"}}),i("el-button",{staticClass:"button",attrs:{disabled:""==e.keyword,type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)]),i("div",{staticClass:"main"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"poisList",staticClass:"item-view"},e._l(e.poisList,(function(t,n){return i("div",{key:t.id+n,staticClass:"pois-item",on:{click:function(i){return e.poisClick(t)}}},[i("div",{staticClass:"pois-item-image"},[0!=t.photos.length?i("el-image",{staticClass:"image",attrs:{src:t.photos[0].url,fit:"cover"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])]):i("el-image",{staticClass:"image",attrs:{src:"",fit:"cover"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])])],1),i("div",{staticClass:"pois-item-text"},[i("h3",[e._v(e._s(t.name))]),i("p",[e._v(" 电话： "),t.tel?[e._v(e._s(t.tel))]:[e._v("-")]],2),i("p",[e._v(" 类目： "+e._s(t.type)+" ")]),i("p",[e._v(" 地址： "+e._s(t.pname)+e._s(t.cityname)+e._s(t.adname)+e._s(t.address)+" ")])])])})),0),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.pageIndex},on:{"current-change":e.currentPaginationChange}})],1)])]):e._e(),"2"==e.panelType?i("section",{staticClass:"navigation"},[i("div",{staticClass:"form-view"},[i("el-form",{ref:"form",attrs:{"label-width":"100px"}},[i("el-form-item",{attrs:{label:"起始位置："}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入起始位置",id:"startPosition"},model:{value:e.startPosition,callback:function(t){e.startPosition="string"===typeof t?t.trim():t},expression:"startPosition"}})],1),i("el-form-item",{attrs:{label:"终点位置："}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入终点位置",id:"endPosition"},model:{value:e.endPosition,callback:function(t){e.endPosition="string"===typeof t?t.trim():t},expression:"endPosition"}})],1),i("el-form-item",{attrs:{label:"类型："}},[i("el-radio-group",{attrs:{disabled:"{}"==JSON.stringify(e.startPositionResult)||"{}"==JSON.stringify(e.endPositionResult),size:"mini"},on:{change:e.navigationTypeChange},model:{value:e.navigationType,callback:function(t){e.navigationType=t},expression:"navigationType"}},e._l(e.navigationTypeArr,(function(t,n){return i("el-radio-button",{key:n,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1),i("div",{staticClass:"steps-view",attrs:{id:"panel"}})]):e._e()],1)])}),s=[],c=(i("1ce2"),i("b782"),i("9afd"),i("095e"),i("c407")),u=i("c15f"),d=i("a35b"),p=(i("a256"),i("3d49"),i("3b45"),function(){function e(t){Object(u["a"])(this,e),this.AMap=t}return Object(d["a"])(e,[{key:"districtList",value:function(e){var t=this.AMap,i={level:null!==e&&void 0!==e&&e.level?e.level:"country",subdistrict:null!==e&&void 0!==e&&e.subdistrict?e.subdistrict:1,showbiz:null===e||void 0===e||!e.showbiz||e.showbiz,extensions:null!==e&&void 0!==e&&e.extensions?e.extensions:"base"},n=null!==e&&void 0!==e&&e.keyword?e.keyword:"中国";return new Promise((function(e,a){t.plugin("AMap.DistrictSearch",(function(){var o=new t.DistrictSearch(i);o.search(n,(function(t,i){"complete"==t?e(i.districtList[0]["districtList"]):a("Error")}))}))}))}},{key:"placeSearchType",get:function(){var e="汽车服务|汽车销售|汽车维修|摩托车服务|餐饮服务|购物服务|生活服务|体育休闲服务|医疗保健服务|住宿服务|风景名胜|商务住宅|政府机构及社会团体|科教文化服务|交通设施服务|金融保险服务|公司企业|道路附属设施|地名地址信息|公共设施";return e.split("|")}},{key:"plugin",get:function(){var e=[{label:"输入提示，根据输入关键字提示匹配信息",value:"Autocomplete"},{label:"地点搜索服务插件，提供某一特定地区的位置查询服务",value:"PlaceSearch"},{label:"行政区查询服务，提供行政区相关信息",value:"DistrictSearch"},{label:"驾车路线规划服务",value:"Driving"},{label:"公交换乘服务",value:"Transfer"},{label:"骑行路线规划服务",value:"Riding"},{label:"步行路线规划服务",value:"Walking"}],t=e.map((function(e){return"AMap.".concat(e.value)}));return t.toString()}},{key:"placeSearch",value:function(e){var t=this.AMap,i={city:null!==e&&void 0!==e&&e.city&&""!=e.city?e.city:"全国",citylimit:!(null===e||void 0===e||!e.citylimit)&&e.citylimit,children:null!==e&&void 0!==e&&e.children?e.children:0,type:null!==e&&void 0!==e&&e.type?e.type:"餐饮服务|商务住宅|生活服务",lang:null!==e&&void 0!==e&&e.lang?e.lang:"zh_cn",pageSize:null!==e&&void 0!==e&&e.pageSize?e.pageSize:10,pageIndex:null!==e&&void 0!==e&&e.pageIndex?e.pageIndex:1,extensions:null!==e&&void 0!==e&&e.extensions?e.extensions:"base",map:null!==e&&void 0!==e&&e.map?e.map:void 0,panel:null!==e&&void 0!==e&&e.panel?e.panel:"",showCover:null===e||void 0===e||!e.showCover||e.showCover,renderStyle:null!==e&&void 0!==e&&e.renderStyle?e.renderStyle:"default",autoFitView:null===e||void 0===e||!e.autoFitView||e.autoFitView},n=null!==e&&void 0!==e&&e.searchKeyword?e.searchKeyword:"",a=new t.PlaceSearch(i);return new Promise((function(e,i){t.plugin("AMap.PlaceSearch",(function(){a.search(n,(function(t,n){"complete"==t?e(n.poiList):i("Error")}))}))}))}},{key:"getDetails",value:function(e){var t=this.AMap,i=new t.PlaceSearch({extensions:"all"});return new Promise((function(t,n){i.getDetails(e,(function(e,i){"complete"===e&&"OK"===i.info?t(i):n("Error")}))}))}},{key:"AutoComplete",value:function(e){var t=this.AMap,i={type:null!==e&&void 0!==e&&e.type?e.type:"",city:null!==e&&void 0!==e&&e.city&&""!=e.city?e.city:"全国",datatype:null!==e&&void 0!==e&&e.datatype?e.datatype:"all",citylimit:!(null===e||void 0===e||!e.citylimit)&&e.citylimit,input:null!==e&&void 0!==e&&e.input?e.input:void 0,output:null!==e&&void 0!==e&&e.output?e.output:void 0,outPutDirAuto:null===e||void 0===e||!e.outPutDirAuto||e.outPutDirAuto};return new Promise((function(e,n){t.plugin("AMap.AutoComplete",(function(){var n=new t.AutoComplete(i);e(n)}))}))}},{key:"Driving",value:function(e){var t=this.AMap,i={map:null!==e&&void 0!==e&&e.map?e.map:void 0,policy:null!==e&&void 0!==e&&e.policy?e.policy:0,extensions:null!==e&&void 0!==e&&e.extensions?e.extensions:"base",ferry:null!==e&&void 0!==e&&e.ferry?e.ferry:0,panel:null!==e&&void 0!==e&&e.panel?e.panel:void 0,hideMarkers:!(null===e||void 0===e||!e.hideMarkers)&&e.hideMarkers,showTraffic:null===e||void 0===e||!e.showTraffic||e.showTraffic,province:null!==e&&void 0!==e&&e.province?e.province:void 0,number:null!==e&&void 0!==e&&e.number?e.number:void 0,isOutline:null!==e&&void 0!==e&&e.isOutline?e.isOutline:void 0,outlineColor:null!==e&&void 0!==e&&e.outlineColor?e.outlineColor:void 0,autoFitView:null!==e&&void 0!==e&&e.autoFitView?e.autoFitView:void 0};return new Promise((function(n,a){t.plugin("AMap.Driving",(function(){var o=new t.Driving(i);o.search(e.start,e.end,(function(e,t){"complete"==e?n(t):a("Error")}))}))}))}},{key:"Transfer",value:function(e){var t=this.AMap,i={map:null!==e&&void 0!==e&&e.map?e.map:void 0,city:null!==e&&void 0!==e&&e.city?e.city:"",policy:null!==e&&void 0!==e&&e.policy?e.policy:0,nightflag:!(null===e||void 0===e||!e.nightflag)&&e.nightflag,extensions:null!==e&&void 0!==e&&e.extensions?e.extensions:"base",panel:null!==e&&void 0!==e&&e.panel?e.panel:"",hideMarkers:!(null===e||void 0===e||!e.hideMarkers)&&e.hideMarkers,isOutline:null!==e&&void 0!==e&&e.isOutline?e.isOutline:void 0,outlineColor:null!==e&&void 0!==e&&e.outlineColor?e.outlineColor:void 0,autoFitView:null!==e&&void 0!==e&&e.autoFitView?e.autoFitView:void 0};return new Promise((function(n,a){t.plugin("AMap.Transfer",(function(){var o=new t.Transfer(i);o.search(e.start,e.end,(function(e,t){"complete"==e?n(t):a("Error")}))}))}))}},{key:"Riding",value:function(e){var t=this.AMap,i={map:null!==e&&void 0!==e&&e.map?e.map:void 0,policy:null!==e&&void 0!==e&&e.policy?e.policy:0,panel:null!==e&&void 0!==e&&e.panel?e.panel:"",hideMarkers:!(null===e||void 0===e||!e.hideMarkers)&&e.hideMarkers,isOutline:null!==e&&void 0!==e&&e.isOutline?e.isOutline:void 0,outlineColor:null!==e&&void 0!==e&&e.outlineColor?e.outlineColor:void 0,autoFitView:null!==e&&void 0!==e&&e.autoFitView?e.autoFitView:void 0};return new Promise((function(n,a){t.plugin("AMap.Riding",(function(){var o=new t.Riding(i);o.search(e.start,e.end,(function(e,t){"complete"==e?n(t):a("Error")}))}))}))}},{key:"Walking",value:function(e){var t=this.AMap,i={map:null!==e&&void 0!==e&&e.map?e.map:void 0,panel:null!==e&&void 0!==e&&e.panel?e.panel:"",hideMarkers:!(null===e||void 0===e||!e.hideMarkers)&&e.hideMarkers,isOutline:null!==e&&void 0!==e&&e.isOutline?e.isOutline:void 0,outlineColor:null!==e&&void 0!==e&&e.outlineColor?e.outlineColor:void 0,autoFitView:null!==e&&void 0!==e&&e.autoFitView?e.autoFitView:void 0};return new Promise((function(n,a){t.plugin("AMap.Walking",(function(){var o=new t.Walking(i);o.search(e.start,e.end,(function(e,t){"complete"==e?n(t):a("Error")}))}))}))}}]),e}()),v=p,f={props:{show:{type:Boolean,default:function(){return!1}},option:{type:Object,default:function(){return{}}}},data:function(){return{drawer:!1,_GaodeMap:null,_Utils:null,loading:!1,panelTypeArr:[{label:"兴趣点",value:"1"},{label:"路线规划与导航",value:"2"}],panelType:"2",range:"city",cityOptions:[],city:["210000","210100"],placeSearchType:[],searchType:["餐饮服务","商务住宅","生活服务"],keyword:"",pageIndex:1,pageSize:10,total:0,poisList:[],startPosition:"",endPosition:"",startPositionResult:{},endPositionResult:{},navigationTypeArr:[{label:"驾车",value:"1"},{label:"公交",value:"2"},{label:"骑行",value:"3"},{label:"步行",value:"4"}],navigationType:"",routeLocationArr:[]}},watch:{show:{handler:function(e,t){this.drawer=e,e&&this.initAutoComplete()},deep:!0,immediate:!0}},mounted:function(){var e=this;window._AMapSecurityConfig={securityJsCode:"2a0ce2005352672661417093c485a056"},this._Utils=new c["a"],this._Utils.loadJs("https://webapi.amap.com/maps?v=2.0&key=".concat("cb250acd7ee0e7b2049cb93747ae3d44","&plugin=").concat((new v).plugin),{append:"body",defer:!0}).then((function(){e._GaodeMap=new v(AMap),e.$nextTick((function(){e._GaodeMap.districtList({subdistrict:2}).then((function(t){e.cityOptions=t})),e.placeSearchType=e._GaodeMap.placeSearchType}))}))},methods:{navigationTypeChange:function(e){var t=this;document.getElementById("panel").innerHTML="";var i=[this.startPositionResult.poi.location.lng,this.startPositionResult.poi.location.lat],n=[this.endPositionResult.poi.location.lng,this.endPositionResult.poi.location.lat];"1"==e&&this._GaodeMap.Driving({panel:"panel",start:i,end:n}).then((function(e){if(0!=e.routes.length){for(var i=[],n=e.routes[0].steps,a=n.length,o=0;o<a;o++){var r=n[o];i.push([r.start_location.lng,r.start_location.lat]),a-1==o&&i.push([r.end_location.lng,r.end_location.lat])}t.$emit("load",{type:"navigation",style:"driving",data:i})}})),"2"==e&&this._GaodeMap.Transfer({panel:"panel",start:i,end:n,city:"沈阳市"}).then((function(e){})),"3"==e&&this._GaodeMap.Riding({panel:"panel",start:i,end:n}).then((function(e){if(0!=e.routes.length){for(var i=[],n=e.routes[0].rides,a=n.length,o=0;o<a;o++){var r=n[o];i.push([r.start_location.lng,r.start_location.lat]),a-1==o&&i.push([r.end_location.lng,r.end_location.lat])}t.$emit("load",{type:"navigation",style:"riding",data:i})}})),"4"==e&&this._GaodeMap.Walking({panel:"panel",start:i,end:n}).then((function(e){if(0!=e.routes.length){for(var i=[],n=e.routes[0].steps,a=n.length,o=0;o<a;o++){var r=n[o];i.push([r.start_location.lng,r.start_location.lat]),a-1==o&&i.push([r.end_location.lng,r.end_location.lat])}t.$emit("load",{type:"navigation",style:"walking",data:i})}}))},tabClick:function(e){"2"==e.name&&this.initAutoComplete()},initAutoComplete:function(){var e=this;setTimeout((function(){e._GaodeMap.AutoComplete({input:"startPosition"}).then((function(t){t.on("select",(function(t){t.poi.location?e.startPositionResult=t:e.$notify({title:"警告",message:"输入的地址有误，请重新输入",type:"warning"})}))})),e._GaodeMap.AutoComplete({input:"endPosition"}).then((function(t){t.on("select",(function(t){t.poi.location?e.endPositionResult=t:e.$notify({title:"警告",message:"输入的地址有误，请重新输入",type:"warning"})}))}))}),500)},poisClick:function(e){this.$emit("poisClick",e)},search:function(){var e=this;if("city"!=this.range||0!=this.city.length){var t={pageSize:this.pageSize,pageIndex:this.pageIndex,searchKeyword:this.keyword,extensions:"all"};"city"==this.range&&(t.city=this.city[1]||""),0!=this.searchType.length&&(t.type=this.searchType.join("|")),this.loading=!0,this._GaodeMap.placeSearch(t).then((function(t){e.total=t.count,e.poisList=t.pois,e.$nextTick((function(){e.$refs.poisList.scrollTop=0})),e.loading=!1,e.$emit("load",{type:"pois",data:e.poisList})})).catch((function(t){e.$notify.error({title:"错误",message:"请重新搜索"})}))}else this.$message({message:"请选择城市",type:"warning"})},currentPaginationChange:function(e){this.pageIndex=e,this.search()},handleClose:function(){this.$emit("close")}}},h=f,m=(i("30db"),i("cba8")),g=Object(m["a"])(h,l,s,!1,null,"3b4b4c8e",null),y=g.exports,b=i("9e48"),w=function(){return w=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var a in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},w.apply(this,arguments)},C=Math.sin,P=Math.cos,M=Math.sqrt,_=Math.abs,k=Math.PI,S=6378245,A=.006693421622965823;function E(e,t){return e>=72.004&&e<=137.8347&&t>=.8293&&t<=55.8271}function T(e,t){var i=2*e-100+3*t+.2*t*t+.1*e*t+.2*M(_(e));return i+=2*(20*C(6*e*k)+20*C(2*e*k))/3,i+=2*(20*C(t*k)+40*C(t/3*k))/3,i+=2*(160*C(t/12*k)+320*C(t*k/30))/3,i}function x(e,t){var i=300+e+2*t+.1*e*e+.1*e*t+.1*M(_(e));return i+=2*(20*C(6*e*k)+20*C(2*e*k))/3,i+=2*(20*C(e*k)+40*C(e/3*k))/3,i+=2*(150*C(e/12*k)+300*C(e/30*k))/3,i}function G(e,t){var i=x(e-105,t-35),n=T(e-105,t-35),a=t/180*k,o=C(a);o=1-A*o*o;var r=M(o);return i=180*i/(S/r*P(a)*k),n=180*n/(S*(1-A)/(o*r)*k),[i,n]}function O(e){var t=e[0],i=e[1];if(!E(t,i))return[t,i];var n=G(t,i);return[t+n[0],i+n[1]]}function D(e){var t=e[0],i=e[1];if(!E(t,i))return[t,i];var n=[t,i],a=n[0],o=n[1],r=O([a,o]),l=r[0]-t,s=r[1]-i;while(_(l)>1e-6||_(s)>1e-6)a-=l,o-=s,r=O([a,o]),l=r[0]-t,s=r[1]-i;return[a,o]}var I=Math.sin,B=Math.cos,R=Math.atan2,L=Math.sqrt,V=Math.PI,j=3e3*V/180;function W(e){var t=e[0],i=e[1],n=t-.0065,a=i-.006,o=L(n*n+a*a)-2e-5*I(a*j),r=R(a,n)-3e-6*B(n*j),l=o*B(r),s=o*I(r);return[l,s]}function z(e){var t=e[0],i=e[1],n=t,a=i,o=L(n*n+a*a)+2e-5*I(a*j),r=R(a,n)+3e-6*B(n*j),l=o*B(r)+.0065,s=o*I(r)+.006;return[l,s]}var F=180/Math.PI,U=Math.PI/180,J=6378137,N=20037508.342789244;function $(e){return[e[0]*F/J,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/J)))*F]}function K(e){var t=Math.abs(e[0])<=180?e[0]:e[0]-360*(e[0]<0?-1:1),i=[J*t*U,J*Math.log(Math.tan(.25*Math.PI+.5*e[1]*U))];return i[0]>N&&(i[0]=N),i[0]<-N&&(i[0]=-N),i[1]>N&&(i[1]=N),i[1]<-N&&(i[1]=-N),i}var q,H,Y,Q,X,Z,ee=Math.abs,te=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],ie=[75,60,45,30,15,0],ne=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],ae=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function oe(e,t,i){var n=ee(t)/i[9],a=i[0]+i[1]*ee(e),o=i[2]+i[3]*n+i[4]*Math.pow(n,2)+i[5]*Math.pow(n,3)+i[6]*Math.pow(n,4)+i[7]*Math.pow(n,5)+i[8]*Math.pow(n,6);return a*=e<0?-1:1,o*=t<0?-1:1,[a,o]}function re(e){for(var t=e[0],i=e[1],n=[],a=0;a<ie.length;a++)if(ee(i)>ie[a]){n=ae[a];break}return oe(t,i,n)}function le(e){for(var t=e[0],i=e[1],n=[],a=0;a<te.length;a++)if(i>=te[a]){n=ne[a];break}return oe(t,i,n)}function se(e,t){if(!e)throw new Error(t)}function ce(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function ue(e){return!isNaN(Number(e))&&null!==e&&!ce(e)}function de(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e.length-1;return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=i,o=e[i].apply(null,t);while(a--)o=e[a].call(null,o);return o}}function pe(e,t,i){if(void 0===i&&(i=!1),null!==e)for(var n,a,o,r,l,s,c,u,d=0,p=0,v=e.type,f="FeatureCollection"===v,h="Feature"===v,m=f?e.features.length:1,g=0;g<m;g++){c=f?e.features[g].geometry:h?e.geometry:e,u=!!c&&"GeometryCollection"===c.type,l=u?c.geometries.length:1;for(var y=0;y<l;y++){var b=0,w=0;if(r=u?c.geometries[y]:c,null!==r){var C=r.type;switch(d=!i||"Polygon"!==C&&"MultiPolygon"!==C?0:1,C){case null:break;case"Point":if(s=r.coordinates,!1===t(s,p,g,b,w))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(s=r.coordinates,n=0;n<s.length;n++){if(!1===t(s[n],p,g,b,w))return!1;p++,"MultiPoint"===C&&b++}"LineString"===C&&b++;break;case"Polygon":case"MultiLineString":for(s=r.coordinates,n=0;n<s.length;n++){for(a=0;a<s[n].length-d;a++){if(!1===t(s[n][a],p,g,b,w))return!1;p++}"MultiLineString"===C&&b++,"Polygon"===C&&w++}"Polygon"===C&&b++;break;case"MultiPolygon":for(s=r.coordinates,n=0;n<s.length;n++){for(w=0,a=0;a<s[n].length;a++){for(o=0;o<s[n][a].length-d;o++){if(!1===t(s[n][a][o],p,g,b,w))return!1;p++}w++}b++}break;case"GeometryCollection":for(n=0;n<r.geometries.length;n++)if(!1===pe(r.geometries[n],t,i))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}(function(e){e["WGS84"]="WGS84",e["WGS1984"]="WGS84",e["EPSG4326"]="WGS84",e["GCJ02"]="GCJ02",e["AMap"]="GCJ02",e["BD09"]="BD09",e["BD09LL"]="BD09",e["Baidu"]="BD09",e["BMap"]="BD09",e["BD09MC"]="BD09MC",e["BD09Meter"]="BD09MC",e["EPSG3857"]="EPSG3857",e["EPSG900913"]="EPSG3857",e["EPSG102100"]="EPSG3857",e["WebMercator"]="EPSG3857",e["WM"]="EPSG3857"})(Z||(Z={}));var ve={to:(q={},q[Z.GCJ02]=O,q[Z.BD09]=de(z,O),q[Z.BD09MC]=de(re,z,O),q[Z.EPSG3857]=K,q)},fe={to:(H={},H[Z.WGS84]=D,H[Z.BD09]=z,H[Z.BD09MC]=de(re,z),H[Z.EPSG3857]=de(K,D),H)},he={to:(Y={},Y[Z.WGS84]=de(D,W),Y[Z.GCJ02]=W,Y[Z.EPSG3857]=de(K,D,W),Y[Z.BD09MC]=re,Y)},me={to:(Q={},Q[Z.WGS84]=$,Q[Z.GCJ02]=de(O,$),Q[Z.BD09]=de(z,O,$),Q[Z.BD09MC]=de(re,z,O,$),Q)},ge={to:(X={},X[Z.WGS84]=de(D,W,le),X[Z.GCJ02]=de(W,le),X[Z.EPSG3857]=de(K,D,W,le),X[Z.BD09]=le,X)},ye={WGS84:ve,GCJ02:fe,BD09:he,EPSG3857:me,BD09MC:ge};function be(e,t,i){if(se(!!e,"The args[0] input coordinate is required"),se(!!t,"The args[1] original coordinate system is required"),se(!!i,"The args[2] target coordinate system is required"),t===i)return e;var n=ye[t];se(!!n,"Invalid original coordinate system: "+t);var a=n.to[i];se(!!a,"Invalid target coordinate system: "+i);var o=typeof e;if(se("string"===o||"object"===o,"Invalid input coordinate type: "+o),"string"===o)try{e=JSON.parse(e)}catch(s){throw new Error("Invalid input coordinate: "+e)}var r=!1;ce(e)&&(se(e.length>=2,"Invalid input coordinate: "+e),se(ue(e[0])&&ue(e[1]),"Invalid input coordinate: "+e),e=e.map(Number),r=!0);var l=a;return r?l(e):(pe(e,(function(e){var t;t=l(e),e[0]=t[0],e[1]=t[1]})),e)}var we=w(w({},Z),{CRSTypes:Z,transform:be}),Ce=we,Pe={name:"PoiQuery",components:{poiPanel:y},data:function(){return{poiPanelShow:!1,viewer:null,_Entity:null,_GaodeMap:null,_Utils:null,EntityArr:[]}},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",VUE_APP_GAODE_KEY_WEB_SERVICE:"181ced609de9d446207b55e549bafcb6",VUE_APP_GAODE_KEY_WEB_TERMINAL:"cb250acd7ee0e7b2049cb93747ae3d44",VUE_APP_PUBLIC_URL:"/cesium-template",VUE_APP_SECURITY_JS_CODE:"2a0ce2005352672661417093c485a056",BASE_URL:""}).VUE_APP_TOKEN,this.viewer=new e.Viewer("cesiumContainer",{imageryProvider:new e.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new e.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1,this._Entity=new b["a"](e,this.viewer),window._Entity=new b["a"](e,this.viewer)},poisClick:function(e){var t=Ce.transform([e.location.lng,e.location.lat],Ce.AMap,Ce.WGS84);this.setCamera({location:t})},setCamera:function(e){var t=this.cesium;this.viewer.camera.flyTo({destination:t.Cartesian3.fromDegrees(e.location[0],e.location[1],3e3)})},load:function(e){var t=this;"pois"==e.type&&this.setPointPosition(e.data).then((function(e){t.EntityArr=e,t.viewer.flyTo(e)})),"navigation"==e.type&&this.setDrawRoute(e.data,e.style)},setDrawRoute:function(e,t){var i="";"driving"==t&&(i="#409EFF"),"riding"==t&&(i="#67C23A"),"walking"==t&&(i="#E6A23C");var n=this.cesium,a=[];e.map((function(e){var t=Ce.transform([e[0],e[1]],Ce.AMap,Ce.WGS84);a.push(t[0],t[1])}));var o=window._Entity.createPolyline({positions:n.Cartesian3.fromDegreesArray(a),material:new n.Color.fromCssColorString(i),width:10});this.viewer.flyTo(o)},setPointPosition:function(e){var t=this;return Object(r["a"])(Object(o["a"])().mark((function i(){var n,a,r,l,s,c;return Object(o["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(n=t.cesium,t.viewer.entities.removeAll(),a=[],r=0;r<e.length;r++)l=e[r],s=Ce.transform([l.location.lng,l.location.lat],Ce.AMap,Ce.WGS84),c=t._Entity.createBillboard({id:l.id,name:l.name,position:n.Cartesian3.fromDegrees(s[0],s[1]),common:{label:{text:l.name,font:"500 30px Helvetica",scale:.5,style:n.LabelStyle.FILL_AND_OUTLINE,fillColor:n.Color.WHITE,pixelOffset:new n.Cartesian2(-8,-50),showBackground:!1,heightReference:n.HeightReference.CLAMP_TO_GROUND,distanceDisplayCondition:new n.DistanceDisplayCondition(0,2e4)}},image:"/cesium-template/Vue/Maps/Gaode/PoiQuery/position.png",verticalOrigin:n.VerticalOrigin.BOTTOM,heightReference:n.HeightReference.CLAMP_TO_GROUND,width:16,height:22}),a.push(c);return i.next=6,a;case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),i)})))()}}},Me=Pe,_e=(i("59ef"),Object(m["a"])(Me,n,a,!1,null,"f10c49fe",null));t["default"]=_e.exports},b782:function(e,t,i){"use strict";var n=i("8c4d"),a=i("bd4b"),o=i("8629"),r=i("ec6f"),l=i("708c"),s=a([].join),c=o!=Object,u=l("join",",");n({target:"Array",proto:!0,forced:c||!u},{join:function(e){return s(r(this),void 0===e?",":e)}})},c407:function(e,t,i){"use strict";var n=i("c15f"),a=i("a35b"),o=(i("a256"),function(){function e(t,i){Object(n["a"])(this,e),this.Cesium=t,this.viewer=i}return Object(a["a"])(e,[{key:"getRandomColor",get:function(){for(var e="#",t=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"],i=0;i<6;i++){var n=Math.floor(Math.random()*t.length+1)-1;e+=t[n]}return e}},{key:"operationDom",value:function(e,t,i){if("append"===e&&document.getElementById(t).appendChild(i),"remove"===e&&document.getElementById(t).remove(),"has"===e)return document.getElementById(t)}},{key:"debounce",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var a=this,o=arguments;if(t&&clearTimeout(t),n){var r=!t;t=setTimeout((function(){t=null}),i),r&&e.apply(a,o)}else t=setTimeout((function(){e.apply}),i)}}},{key:"throttle",value:function(e,t,i){var n,a=0;return function(){var o=this,r=arguments;if(1===i){var l=Date.now();l-a>t&&(e.apply(o,r),a=l)}else 2===i&&(n||(n=setTimeout((function(){n=null,e.apply(o,r)}),t)))}}},{key:"createScript",value:function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)}},{key:"loadJs",value:function(e,t){return new Promise((function(i,n){var a=document.createElement("script");a.type="text/javascript",null!==t&&void 0!==t&&t.async&&t.async&&(a.async="async"),null!==t&&void 0!==t&&t.defer&&t.defer&&(a.defer="defer");var o="body";null!==t&&void 0!==t&&t.append&&t.append&&("body"==t.append||"head"==t.append)&&(o=t.append),a.src=e,document[o].appendChild(a),a.onload=function(){i()},a.onerror=function(){n()}}))}}]),e}());t["a"]=o},dca7:function(e,t,i){}}]);