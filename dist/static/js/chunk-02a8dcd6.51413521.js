(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02a8dcd6"],{2237:function(t,e,r){"use strict";var n=r("46a7"),a=r("4162"),i=r("d2cf"),o=r("4488"),s=r("7f99"),u=r("d2b9"),l=RangeError,c=String,h=Math.floor,y=a(s),d=a("".slice),f=a(1..toFixed),p=function(t,e,r){return 0===e?r:e%2===1?p(t,e-1,r*t):p(t*t,e/2,r)},v=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},m=function(t,e,r){var n=-1,a=r;while(++n<6)a+=e*t[n],t[n]=a%1e7,a=h(a/1e7)},g=function(t,e){var r=6,n=0;while(--r>=0)n+=t[r],t[r]=h(n/e),n=n%e*1e7},x=function(t){var e=6,r="";while(--e>=0)if(""!==r||0===e||0!==t[e]){var n=c(t[e]);r=""===r?n:r+y("0",7-n.length)+n}return r},w=u((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!u((function(){f({})}));n({target:"Number",proto:!0,forced:w},{toFixed:function(t){var e,r,n,a,s=o(this),u=i(t),h=[0,0,0,0,0,0],f="",w="0";if(u<0||u>20)throw l("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return c(s);if(s<0&&(f="-",s=-s),s>1e-21)if(e=v(s*p(2,69,1))-69,r=e<0?s*p(2,-e,1):s/p(2,e,1),r*=4503599627370496,e=52-e,e>0){m(h,0,r),n=u;while(n>=7)m(h,1e7,0),n-=7;m(h,p(10,n,1),0),n=e-1;while(n>=23)g(h,1<<23),n-=23;g(h,1<<n),m(h,1,1),g(h,2),w=x(h)}else m(h,0,r),m(h,1<<-e,0),w=x(h)+y("0",u);return u>0?(a=w.length,w=f+(a<=u?"0."+y("0",u-a)+w:d(w,0,a-u)+"."+d(w,a-u))):w=f+w,w}})},"3d43":function(t,e,r){},4488:function(t,e,r){var n=r("4162");t.exports=n(1..valueOf)},"4bb1":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("a567");function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},"78be":function(t,e,r){var n=r("46a7"),a=r("bc35"),i=r("5386");n({target:"Array",proto:!0},{fill:a}),i("fill")},"83f3":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{attrs:{id:"cesiumContainer"}})])}],i=r("9e48"),o=r("c407"),s=r("896e"),u={name:"dynamicPosition",data:function(){return{viewer:null,_Entity:null,_Utils:null,ModelEntityArr:[]}},mounted:function(){this.init()},methods:{init:function(){var t=this.cesium;t.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",VUE_APP_GAODE_KEY_WEB_SERVICE:"181ced609de9d446207b55e549bafcb6",VUE_APP_GAODE_KEY_WEB_TERMINAL:"cb250acd7ee0e7b2049cb93747ae3d44",VUE_APP_PUBLIC_URL:"/cesium-template",VUE_APP_QINIU_URL:"http://re8r7gk9l.hb-bkt.clouddn.com",VUE_APP_SECURITY_JS_CODE:"2a0ce2005352672661417093c485a056",BASE_URL:"/cesium-template/"}).VUE_APP_TOKEN,this.viewer=new t.Viewer("cesiumContainer",{imageryProvider:new t.UrlTemplateImageryProvider({url:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}"}),terrainProvider:new t.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,timeline:!0,infoBox:!1,selectionIndicator:!1,animation:!1}),this.viewer.timeline.container.style.display="none",this.viewer.scene.globe.enableLighting=!0,this.viewer.scene.globe.depthTestAgainstTerrain=!0,t.Math.setRandomNumberSeed(3),this._Entity=new i["a"](t,this.viewer),this._Utils=new o["a"](t,this.viewer),this.start(),this.viewer.camera.setView({destination:t.Cartesian3.fromDegrees(123.43382736814452,41.811201240193164,3e3),orientation:{heading:t.Math.toRadians(0),pitch:t.Math.toRadians(-90),roll:0},duration:3})},start:function(){for(var t=this,e=this.cesium,r=[],n=0;n<20;n++){var a=this._Entity.createModel({id:Object(s["a"])(),uri:"/cesium-template/Vue/Entity/dynamicPosition/qiche.gltf",maximumScale:100,minimumPixelSize:30,heightReference:e.HeightReference.CLAMP_TO_GROUND});r.push(a)}this.ModelEntityArr=r,this.setPosition(),setInterval((function(){t.setPosition()}),2e4)},getRandomPoint:function(){var t=this._Utils.randomPoint({start:[123.43408676397446,41.81120812753955],end:[123.45099649125092,41.81138896519967],range:100});return t},getCallbackProperty:function(t,e){var r=this.cesium,n=0,a=new r.CallbackProperty((function(a){return n>5e3&&(n=0),n++,r.Cartesian3.lerp(t,e,n/500,new r.Cartesian3)}),!1);return a},setPosition:function(){for(var t=this.cesium,e=0;e<this.ModelEntityArr.length;e++){var r=this.ModelEntityArr[e],n="",a=this._Utils.getEntityPosition(r);n=a||this.getRandomPoint();var i=this.getRandomPoint(),o=this.getCallbackProperty(n,i);r.position=o,r.orientation=new t.VelocityOrientationProperty(o)}}}},l=u,c=(r("88c5"),r("cba8")),h=Object(c["a"])(l,n,a,!1,null,"f559f6f4",null);e["default"]=h.exports},"88c5":function(t,e,r){"use strict";r("3d43")},"896e":function(t,e,r){"use strict";var n,a=new Uint8Array(16);function i(){if(!n&&(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(t){return"string"===typeof t&&o.test(t)}for(var u=s,l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase();if(!u(r))throw TypeError("Stringified UUID is invalid");return r}var y=h;function d(t,e,r){t=t||{};var n=t.random||(t.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var a=0;a<16;++a)e[r+a]=n[a];return e}return y(n)}e["a"]=d},bc35:function(t,e,r){"use strict";var n=r("735b"),a=r("32da"),i=r("1c60");t.exports=function(t){var e=n(this),r=i(e),o=arguments.length,s=a(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,l=void 0===u?r:a(u,r);while(l>s)e[s++]=t;return e}},c407:function(t,e,r){"use strict";var n=r("4bb1"),a=r("e143"),i=(r("eb3b"),r("2237"),r("a567"),function(){function t(e,r){Object(n["a"])(this,t),this.Cesium=e,this.viewer=r}return Object(a["a"])(t,[{key:"getRandomColor",get:function(){for(var t="#",e=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"],r=0;r<6;r++){var n=Math.floor(Math.random()*e.length+1)-1;t+=e[n]}return t}},{key:"operationDom",value:function(t,e,r){if("append"===t&&document.getElementById(e).appendChild(r),"remove"===t&&document.getElementById(e).remove(),"has"===t)return document.getElementById(e)}},{key:"debounce",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var a=this,i=arguments;if(e&&clearTimeout(e),n){var o=!e;e=setTimeout((function(){e=null}),r),o&&t.apply(a,i)}else e=setTimeout((function(){t.apply}),r)}}},{key:"throttle",value:function(t,e,r){var n,a=0;return function(){var i=this,o=arguments;if(1===r){var s=Date.now();s-a>e&&(t.apply(i,o),a=s)}else 2===r&&(n||(n=setTimeout((function(){n=null,t.apply(i,o)}),e)))}}},{key:"createScript",value:function(t){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)}},{key:"loadJs",value:function(t,e){return new Promise((function(r,n){var a=document.createElement("script");a.type="text/javascript",null!==e&&void 0!==e&&e.async&&e.async&&(a.async="async"),null!==e&&void 0!==e&&e.defer&&e.defer&&(a.defer="defer");var i="body";null!==e&&void 0!==e&&e.append&&e.append&&("body"==e.append||"head"==e.append)&&(i=e.append),a.src=t,document[i].appendChild(a),a.onload=function(){r()},a.onerror=function(){n()}}))}},{key:"randomPoint",value:function(t){var e=t.start,r=t.end,n=t.range||1e3,a=t.height||0,i=t.type||"cartesian3",o=this.Cesium;function s(t,e){return Math.floor(Math.random()*(e-t+1)+t)}var u=s(e[0]*n,r[0]*n)/n,l=s(e[1]*n,r[1]*n)/n;return"cartesian3"==i?o.Cartesian3.fromDegrees(u,l,a):"jwd"==i?[u,l,a]:void 0}},{key:"getEntityPosition",value:function(t){var e=this.Cesium;return t.position?t.position._value||e.Property.getValueOrUndefined(t.position,this.viewer.clock.currentTime||e.JulianDate.now(),new e.Cartesian3):void 0}},{key:"toDegrees",value:function(t){var e=this.Cesium;if(this.isDegreesOrCartesian(t)){var r=function(t){var r=new e.Cartesian3(t.x,t.y,t.z),n=e.Cartographic.fromCartesian(r);return{lng:parseFloat(e.Math.toDegrees(n.longitude).toFixed(8)),lat:parseFloat(e.Math.toDegrees(n.latitude).toFixed(8)),alt:parseFloat(n.height.toFixed(8))}};return t.x&&(t=r(t)),t}}},{key:"getCameraInfo",value:function(){var t=this.viewer;if(t&&t.camera&&t.camera.position&&t.camera.heading){var e=this.toDegrees(t.camera.position),r=Cesium.Math.toDegrees(t.camera.heading),n=Cesium.Math.toDegrees(t.camera.pitch),a=Cesium.Math.toDegrees(t.camera.roll);return{heading:parseFloat(r).toFixed(5),pitch:parseFloat(n).toFixed(5),roll:parseFloat(a).toFixed(5),lng:parseFloat(e.lng).toFixed(7),lat:parseFloat(e.lat).toFixed(7),alt:parseFloat(e.alt).toFixed(2)}}throw new Error("Error in Parameter!")}},{key:"isDegreesOrCartesian",value:function(t){if(!t)throw new Error("Error in Parameter!");return"number"===typeof t.x&&"number"===typeof t.y&&"number"===typeof t.z||"number"===typeof t.lng&&"number"===typeof t.lat}},{key:"toCartesian",value:function(t){var e=this.Cesium;if(this.isDegreesOrCartesian(t)){var r=function(t){return e.Cartesian3.fromDegrees(t.lng,t.lat,t.alt||0)};return t.lng&&(t=r(t)),t}}},{key:"point2LineDistance",value:function(t,e,r){t=this.toCartesian(t),e=this.toCartesian(e),r=this.toCartesian(r);var n=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2)),a=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)+Math.pow(t.z-r.z,2)),i=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2)+Math.pow(r.z-e.z,2)),o=(Math.pow(a,2)+Math.pow(n,2)-Math.pow(i,2))/(2*n*a),s=Math.sqrt(1-Math.pow(o,2)),u=((t.x-r.x)*(t.x-e.x)+(t.y-r.y)*(t.y-e.y)+(t.z-r.z)*(t.z-e.z))/(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2));return u<0?a:u<=1&&u>=0?a*s:u>1?i:void 0}},{key:"countArea",value:function(t){if(!t||t.length<3)throw new Error("Error in Parameter!");for(var e=0,r=0;r<t.length;r++){var n=(r+1)%t.length,a=t[r],i=t[n];a=this.toCartesian(a),i=this.toCartesian(i),e+=a.x*i.y,e-=a.y*i.x}return e/=2,Math.abs(e)}},{key:"countAreaByThreePoints",value:function(t,e,r){t=this.toCartesian(t),e=this.toCartesian(e),r=this.toCartesian(r);var n=-1,a=[];if(a[0]=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2)),a[1]=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)+Math.pow(t.z-r.z,2)),a[2]=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2)+Math.pow(r.z-e.z,2)),a[0]+a[1]<=a[2]||a[0]+a[2]<=a[1]||a[1]+a[2]<=a[0])return n;var i=(a[0]+a[1]+a[2])/2;return n=Math.sqrt(i*(i-a[0])*(i-a[1])*(i-a[2])),n}},{key:"getDistance",value:function(t,e){if(!t||!e)throw new Error("Error in Parameter!");return t=this.toCartesian(t),e=this.toCartesian(e),Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2))}},{key:"getNormal",value:function(t,e,r){t=this.toCartesian(t),e=this.toCartesian(e),r=this.toCartesian(r);var n=(e.y-t.y)*(r.z-t.z)-(e.z-t.z)*(r.y-t.y),a=(e.z-t.z)*(r.x-t.x)-(e.x-t.x)*(r.z-t.z),i=(e.x-t.x)*(r.y-t.y)-(e.y-t.y)*(r.x-t.x);return{x:n,y:a,z:i}}},{key:"countIntersectionOfLineAndPlane",value:function(t,e,r,n){var a,i,o,s,u,l,c,h,y,d,f,p,v,m;a=t.x,i=t.y,o=t.z,s=e.x,u=e.y,l=e.z,c=r.x,h=r.y,y=r.z,d=n.x,f=n.y,p=n.z,m=c*a+h*i+y*o;var g={};if(0!==m)return v=((s-d)*a+(u-f)*i+(l-p)*o)/m,g.x=d+c*v,g.y=f+h*v,g.z=p+y*v,g}},{key:"getPointInPolygon",value:function(){var t=this.getNormal(polygon[0],polygon[1],polygon[2]),e=line[0].x-line[1].x,r=line[0].y-line[1].y,n=line[0].z-line[1].z,a={x:e,y:r,z:n},i=this.countIntersectionOfLineAndPlane(t,polygon[1],a,line[0]);return i||!1}},{key:"isPointInQuadrilateral",value:function(){var t,e,r,n,a,i,o,s,u,l,c;o=this.getDistance(quadrilateral[0],quadrilateral[1]),s=this.getDistance(quadrilateral[1],quadrilateral[2]),u=this.getDistance(quadrilateral[0],quadrilateral[2]),l=this.getDistance(quadrilateral[2],quadrilateral[3]),c=this.getDistance(quadrilateral[3],quadrilateral[4]);var h,y,d,f,p=(o+s+u)/2,v=(u+l+c)/2;t=Math.sqrt(p*(p-o)*(p-s)*(p-u)),e=Math.sqrt(v*(v-u)*(v-l)*(v-c)),h=this.getDistance(point,quadrilateral[0]),y=this.getDistance(point,quadrilateral[1]),d=this.getDistance(point,quadrilateral[2]),f=this.getDistance(point,quadrilateral[3]);var m=(o+h+y)/2,g=(s+y+d)/2,x=(l+d+f)/2,w=(c+f+h)/2;return r=Math.sqrt(m*(m-o)*(m-h)*(m-y)),n=Math.sqrt(g*(g-s)*(g-y)*(g-d)),a=Math.sqrt(x*(x-l)*(x-d)*(x-f)),i=Math.sqrt(w*(w-c)*(w-f)*(w-h)),!(Math.abs(r+n+a+i-(t+e))>1e-4)}},{key:"JudgePointInPolygon",value:function(t,e){var r,n,a,i,o,s,u,l,c=function(t,e){return t.y*e.z-e.y*t.z+(t.z*e.x-t.x*e.z)+(t.x*e.y-t.y*e.x)},h=e[0],y=e[1],d=e[2],f=e[3];return r={x:y.x-h.x,y:y.y-h.y,z:y.z-h.z},n={x:t.x-h.x,y:t.y-h.y,z:t.z-h.z},a={x:f.x-d.x,y:f.y-d.y,z:f.z-d.z},i={x:t.x-d.x,y:t.y-d.y,z:t.z-d.z},o={x:d.x-y.x,y:d.y-y.y,z:d.z-y.z},s={x:t.x-y.x,y:t.y-y.y,z:t.z-y.z},u={x:f.x-h.x,y:f.y-h.y,z:f.z-h.z},l={x:t.x-f.x,y:t.y-f.y,z:t.z-f.z},!(c(r,n)*c(a,i)>=0&&c(o,s)*c(u,l)>=0)}},{key:"JudgePointInPolyline",value:function(t,e){var r=Math.sqrt(Math.pow(e[0].x-e[1].x,2)+Math.pow(e[0].y-e[1].y,2)+Math.pow(e[0].z-e[1].z,2)),n=Math.sqrt(Math.pow(t.x-e[1].x,2)+Math.pow(t.y-e[1].y,2)+Math.pow(t.z-e[1].z,2)),a=Math.sqrt(Math.pow(t.x-e[0].x,2)+Math.pow(t.y-e[0].y,2)+Math.pow(t.z-e[0].z,2)),i=n+a-r;return 1e4*i<1}},{key:"GetPanelEquation",value:function(t){var e,r,n,a;if(!(t.length<3))return e=t[0].y*(t[1].z-t[2].z)+t[1].y*(t[2].z-t[0].z)+t[2].y*(t[0].z-t[1].z),r=t[0].z*(t[1].x-t[2].x)+t[1].z*(t[2].x-t[0].x)+t[2].z*(t[0].x-t[1].x),n=t[0].x*(t[1].y-t[2].y)+t[1].x*(t[2].y-t[0].y)+t[2].x*(t[0].y-t[1].y),a=-t[0].x*(t[1].y*t[2].z-t[2].y*t[1].z)-t[1].x*(t[2].y*t[0].z-t[0].y*t[2].z)-t[2].x*(t[0].y*t[1].z-t[1].y*t[0].z),{A:e,B:r,C:n,D:a}}}]),t}());e["a"]=i},e143:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}r.d(e,"a",(function(){return a}))}}]);