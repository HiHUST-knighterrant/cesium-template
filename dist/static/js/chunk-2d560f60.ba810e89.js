(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d560f60"],{"5c37":function(n,e,i){"use strict";i("7607")},7607:function(n,e,i){},"7d2b":function(n,e,i){"use strict";i.r(e);var t=function(){var n=this,e=n.$createElement;n._self._c;return n._m(0)},o=[function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"container"},[i("div",{attrs:{id:"cesiumContainer"}})])}],r=i("c15f"),s=i("a35b"),a=(i("a256"),i("e4b5"),i("840d"),function(){function n(e,i,t,o){Object(r["a"])(this,n),this.Cesium=e,this.viewer=i,this.geojson=t,this.color=o}return Object(s["a"])(n,[{key:"init",value:function(){var n=this,e=this,i=this.Cesium;this.viewer.scene.globe.depthTestAgainstTerrain=!1;var t=this.Cesium.GeoJsonDataSource.load(this.geojson,{clampToGround:!0});t.then((function(t){n.viewer.dataSources.add(t);var o=t.entities.values;o.map((function(n,t){return n.nameID=t,n.polyline.width=50,n.polyline.material=new i.PolylineGlowMaterialProperty({glowPower:.1,color:i.Color.fromCssColorString(e.color)}),n}))})),this.viewer.flyTo(t)}}]),n}()),l=a,c=[{codeLanguage:"VUE",relyOn:[{label:"wuhan-line1.json",url:"file/HaloLine/geojson/wuhan-line1.json"},{label:"HaloLine.js",url:"file/HaloLine/HaloLine.js"}],code:[{codeLanguage:"html",content:' <div class="container">\n                      <div id="cesiumContainer"></div>\n                    </div>'},{codeLanguage:"js",content:'import HaloLine from "./HaloLine";\n                  export default {\n                    name: "HaloLine",\n                    data() {\n                      return {\n                        viewer: null,\n                      };\n                    },\n                    mounted() {\n                      this.init();\n                    },\n                    methods: {\n                      init() {\n                        const Cesium = this.cesium;\n                        Cesium.Ion.defaultAccessToken = process.env.VUE_APP_TOKEN;\n                        this.viewer = new Cesium.Viewer("cesiumContainer", {\n                          imageryProvider: new Cesium.ArcGisMapServerImageryProvider({\n                            url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",\n                          }),\n                          terrainProvider: new Cesium.CesiumTerrainProvider({\n                            //加载火星在线地形\n                            url: "http://data.marsgis.cn/terrain",\n                          }),\n                          shouldAnimate: true,\n                          infoBox: false,\n                          selectionIndicator: false,\n                        });\n                        //设置贴地效果\n                        this.viewer.scene.globe.depthTestAgainstTerrain = false;\n                  \n                        this.start();\n                      },\n                      /**\n                       * 开始\n                       */\n                      start() {\n                        const Cesium = this.cesium;\n                        const _HaloLine = new HaloLine(\n                          Cesium,\n                          this.viewer,\n                          "/file/HaloLine/geojson/wuhan-line1.json",\n                          "#ffa500"\n                        );\n                        _HaloLine.init();\n                      },\n                    },\n                  };'},{codeLanguage:"css",content:".container {\n                  width: 100%;\n                  height: 100%;\n                  #cesiumContainer {\n                    width: 100%;\n                    height: 100%;\n                  }\n                }"}]},{codeLanguage:"JS",relyOn:[{label:"wuhan-line1.json",url:"JavaScript/file/HaloLine/geojson/wuhan-line1.json"}],code:[{codeLanguage:"js",content:'/**\n                    * 封装光晕线\n                    */\n                  class HaloLineClass {\n                      /**\n                        * \n                        * @param {*} Cesium \n                        * @param {*} viewer \n                        * @param {*} geojson 数据\n                        * @param {*} color 线条颜色 （当前只是全局单色  可以在次根据 数据进行二次开发修改颜色）\n                        * 也可以新增线条 粗细值  目前暂未传递  可能后期 进行动态数据来读取\n                        */\n                      constructor(Cesium, viewer, geojson, color) {\n                          this.Cesium = Cesium\n                          this.viewer = viewer\n                          this.geojson = geojson\n                          this.color = color\n                      }\n                  \n                      init() {\n                          const _this = this;\n                          const Cesium = this.Cesium\n                          //设置贴地效果\n                          this.viewer.scene.globe.depthTestAgainstTerrain = false\n                          //clampToGround 贴地需要\n                          const promise = this.Cesium.GeoJsonDataSource.load(this.geojson, { clampToGround: true });\n                          promise.then((dataSource) => {\n                              this.viewer.dataSources.add(dataSource);\n                              const entities = dataSource.entities.values;\n                              entities.map((item, index) => {\n                                  item.nameID = index\n                                  item.polyline.width = 50\n                                  item.polyline.material = new Cesium.PolylineGlowMaterialProperty({\n                                      glowPower: 0.1,\n                                      // color: Cesium.Color.ORANGERED.withAlpha(0.9),\n                                      color: Cesium.Color.fromCssColorString(_this.color),\n                                  })\n                                  return item\n                              })\n                          });\n                          this.viewer.flyTo(promise);\n                      }\n                  }\n              /**\n               * 调用光晕线\n               */\n              function HaloLine() {\n                  const _HaloLine = new HaloLineClass(\n                      Cesium,\n                      viewer,\n                      "/test/HaloLine/geojson/wuhan-line1.json",\n                      "#ffa500"\n                  );\n                  _HaloLine.init();\n              }\n              //开始调用\n              HaloLine()\n        '}]}],u={name:"HaloLine",data:function(){return{viewer:null}},created:function(){this.$store.dispatch("highlight/set_code",c)},mounted:function(){this.init()},methods:{init:function(){var n=this.cesium;n.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",BASE_URL:""}).VUE_APP_TOKEN,this.viewer=new n.Viewer("cesiumContainer",{imageryProvider:new n.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new n.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1,this.start()},start:function(){var n=this.cesium,e=new l(n,this.viewer,"/file/HaloLine/geojson/wuhan-line1.json","#ffa500");e.init()}}},h=u,m=(i("5c37"),i("cba8")),d=Object(m["a"])(h,t,o,!1,null,"ce6366e8",null);e["default"]=d.exports},a35b:function(n,e,i){"use strict";function t(n,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function o(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}i.d(e,"a",(function(){return o}))},c15f:function(n,e,i){"use strict";i.d(e,"a",(function(){return t}));i("f4cf");function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}}}]);