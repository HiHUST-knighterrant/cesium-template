(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a1164e74"],{1948:function(t,e,n){"use strict";var i=n("7215"),r=n("cfed"),o=n("e240"),a=n("3605"),s=n("2eca"),u=n("8d65"),c=n("cf18"),f=n("5771"),l=n("3e01"),d=n("9084"),v=n("b724"),p=n("61b1"),h=n("1388"),m=n("d1b5");t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),b=y?"set":"add",w=r[t],x=w&&w.prototype,_=w,C={},E=function(t){var e=o(x[t]);s(x,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!d(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return g&&!d(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!d(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},O=a(t,!l(w)||!(g||x.forEach&&!v((function(){(new w).entries().next()}))));if(O)_=n.getConstructor(e,t,y,b),u.enable();else if(a(t,!0)){var S=new _,A=S[b](g?{}:-0,1)!=S,j=v((function(){S.has(1)})),P=p((function(t){new w(t)})),k=!g&&v((function(){var t=new w,e=5;while(e--)t[b](e,e);return!t.has(-0)}));P||(_=e((function(t,e){f(t,x);var n=m(new w,t,_);return void 0!=e&&c(e,n[b],{that:n,AS_ENTRIES:y}),n})),_.prototype=x,x.constructor=_),(j||k)&&(E("delete"),E("has"),y&&E("get")),(k||A)&&E(b),g&&x.clear&&delete x.clear}return C[t]=_,i({global:!0,constructor:!0,forced:_!=w},C),h(_,t),g||n.setStrong(_,t,y),_}},"2c5e":function(t,e,n){"use strict";n("bcf6")},"33ba":function(t,e,n){var i=n("b724"),r=n("9084"),o=n("82dd"),a=n("9777"),s=Object.isExtensible,u=i((function(){s(1)}));t.exports=u||a?function(t){return!!r(t)&&((!a||"ArrayBuffer"!=o(t))&&(!s||s(t)))}:s},"4ec7":function(t,e,n){},"575e":function(t,e,n){var i=n("b724");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},"696f":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("bee9"),n("6a08"),n("c639"),n("9285"),n("5052"),n("6477"),n("416e");var i=n("9680");function r(t,e){if(t){if("string"===typeof t)return Object(i["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i["a"])(t,e):void 0}}},6987:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"cesiumContainer"}}),t._l(t.dataPosition,(function(e,i){return n("div",{key:i},[n("popup-dom",{directives:[{name:"show",rawName:"v-show",value:-1!=JSON.stringify(t.show_list).indexOf(e.id),expression:"JSON.stringify(show_list).indexOf(item.id) != -1"}],attrs:{item:e},on:{close:t.popupClose}})],1)}))],2)},r=[],o=n("9680");function a(t){if(Array.isArray(t))return Object(o["a"])(t)}n("6e79"),n("6d23"),n("6a08"),n("7911"),n("5052"),n("d75e"),n("9285");function s(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var u=n("696f");n("5ce7");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){return a(t)||s(t)||Object(u["a"])(t)||c()}n("8a84"),n("c639"),n("ce2f"),n("d695"),n("d73d");var l=n("896e"),d={lng:123.42840294759996,lat:41.81072850022128,height:5517},v=[{id:Object(l["a"])(),lng:123.42786580298868,lat:41.80191390065372,height:0,title:"市府广场",area:"66200平方米",year:"1911"},{id:Object(l["a"])(),lng:123.43378100090162,lat:41.811274298820095,height:0,title:"惠工广场",area:"",year:""},{id:Object(l["a"])(),lng:123.42942835160613,lat:41.81700147554745,height:0,title:"沈阳北站",area:"12.11万平方米",year:"1913"}],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popupDom",attrs:{id:t.item.id}},[n("div",{staticClass:"close",on:{click:t.close}},[t._v("×")]),n("div",{staticClass:"title"},[t._v(t._s(t.item.title))]),n("div",{staticClass:"info-view"},[n("div",{staticClass:"info-item"},[n("div",{staticClass:"label"},[t._v("建筑面积：")]),n("div",{staticClass:"value"},[""!=t.item.area?[t._v(t._s(t.item.area))]:[t._v("未知")]],2)]),n("div",{staticClass:"info-item"},[n("div",{staticClass:"label"},[t._v("建筑年份：")]),n("div",{staticClass:"value"},[""!=t.item.year?[t._v(t._s(t.item.year))]:[t._v("未知")]],2)])]),n("div",{staticClass:"triangle"})])},h=[],m={name:"popupDom",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{close:function(){this.$emit("close",this.item.id)}}},y=m,g=(n("7447"),n("cba8")),b=Object(g["a"])(y,p,h,!1,null,"46c69291",null),w=b.exports,x=n("9e48"),_={name:"htmlPopup",components:{popupDom:w},data:function(){return{viewer:null,_Entity:null,handler:null,dataPosition:v,show_list:[]}},mounted:function(){this.init()},methods:{init:function(){var t=this.cesium;t.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",BASE_URL:""}).VUE_APP_TOKEN,this.viewer=new t.Viewer("cesiumContainer",{imageryProvider:new t.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new t.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1,this._Entity=new x["a"](t,this.viewer),this.handler=new t.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.start(),this.popupPosition(),this.viewer.camera.flyTo({destination:t.Cartesian3.fromDegrees(d.lng,d.lat,d.height),orientation:{heading:t.Math.toRadians(0),pitch:t.Math.toRadians(-90),roll:0},duration:3})},start:function(){var t=this,e=this.cesium;this.dataPosition.map((function(n){t._Entity.createPoint({id:n.id,name:n.name,position:e.Cartesian3.fromDegrees(n.lng,n.lat),color:e.Color.CHARTREUSE.withAlpha(1),pixelSize:10,heightReference:e.HeightReference.CLAMP_TO_GROUND,outlineColor:e.Color.WHITE,outlineWidth:1})})),this.handler.setInputAction((function(e){var n=t.viewer.scene.pick(e.position);if(n){var i=t.dataPosition.filter((function(t){return t.id==n.id._id}))[0];t.show_list.push(i.id),t.show_list=f(new Set(t.show_list))}}),e.ScreenSpaceEventType.LEFT_CLICK)},popupPosition:function(){for(var t=this,e=this.cesium,n=function(n){var i=t.dataPosition[n],r=document.getElementById(i.id);t.viewer.scene.preRender.addEventListener((function(){var n=e.Cartesian3.fromDegrees(i.lng,i.lat,0),o=t.viewer.scene.cartesianToCanvasCoordinates(n,new e.Cartesian2);e.defined(o)&&(r.style.top=o.y-r.offsetHeight+20+"px",r.style.left=o.x+r.offsetWidth-40+"px")}))},i=0;i<this.dataPosition.length;i++)n(i)},popupClose:function(t){var e=this.show_list.indexOf(t);this.show_list.splice(e,1)}}},C=_,E=(n("2c5e"),Object(g["a"])(C,i,r,!1,null,"5f131c11",null));e["default"]=E.exports},7447:function(t,e,n){"use strict";n("4ec7")},"896e":function(t,e,n){"use strict";var i,r=new Uint8Array(16);function o(){if(!i&&(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(t){return"string"===typeof t&&a.test(t)}for(var u=s,c=[],f=0;f<256;++f)c.push((f+256).toString(16).substr(1));function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n}var d=l;function v(t,e,n){t=t||{};var i=t.random||(t.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return d(i)}e["a"]=v},"8d65":function(t,e,n){var i=n("7215"),r=n("e240"),o=n("fee3"),a=n("9084"),s=n("ceab"),u=n("9ca4").f,c=n("4a4d"),f=n("9cff"),l=n("33ba"),d=n("7618"),v=n("575e"),p=!1,h=d("meta"),m=0,y=function(t){u(t,h,{value:{objectID:"O"+m++,weakData:{}}})},g=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,h)){if(!l(t))return"F";if(!e)return"E";y(t)}return t[h].objectID},b=function(t,e){if(!s(t,h)){if(!l(t))return!0;if(!e)return!1;y(t)}return t[h].weakData},w=function(t){return v&&p&&l(t)&&!s(t,h)&&y(t),t},x=function(){_.enable=function(){},p=!0;var t=c.f,e=r([].splice),n={};n[h]=1,t(n).length&&(c.f=function(n){for(var i=t(n),r=0,o=i.length;r<o;r++)if(i[r]===h){e(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},_=t.exports={enable:x,fastKey:g,getWeakData:b,onFreeze:w};o[h]=!0},"93a5":function(t,e,n){var i=n("2eca");t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},9680:function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"a",(function(){return i}))},9777:function(t,e,n){var i=n("b724");t.exports=i((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},a666:function(t,e,n){"use strict";var i=n("5965"),r=TypeError;t.exports=function(t,e){if(!delete t[e])throw r("Cannot delete property "+i(e)+" of "+i(t))}},b4d6:function(t,e,n){"use strict";var i=n("1948"),r=n("df26");i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},bcf6:function(t,e,n){},d695:function(t,e,n){n("b4d6")},d73d:function(t,e,n){"use strict";var i=n("7215"),r=n("044b"),o=n("7ae3"),a=n("ecd7"),s=n("34cb"),u=n("c245"),c=n("9e13"),f=n("2384"),l=n("a666"),d=n("e1cf"),v=d("splice"),p=Math.max,h=Math.min;i({target:"Array",proto:!0,forced:!v},{splice:function(t,e){var n,i,d,v,m,y,g=r(this),b=s(g),w=o(t,b),x=arguments.length;for(0===x?n=i=0:1===x?(n=0,i=b-w):(n=x-2,i=h(p(a(e),0),b-w)),u(b+n-i),d=c(g,i),v=0;v<i;v++)m=w+v,m in g&&f(d,v,g[m]);if(d.length=i,n<i){for(v=w;v<b-i;v++)m=v+i,y=v+n,m in g?g[y]=g[m]:l(g,y);for(v=b;v>b-i+n;v--)l(g,v-1)}else if(n>i)for(v=b-i;v>w;v--)m=v+i-1,y=v+n-1,m in g?g[y]=g[m]:l(g,y);for(v=0;v<n;v++)g[v+w]=arguments[v+2];return g.length=b-i+n,d}})},df26:function(t,e,n){"use strict";var i=n("9ca4").f,r=n("da28"),o=n("93a5"),a=n("7749"),s=n("5771"),u=n("cf18"),c=n("d4c2"),f=n("6722"),l=n("e1d7"),d=n("8d65").fastKey,v=n("bf0a"),p=v.set,h=v.getterFor;t.exports={getConstructor:function(t,e,n,c){var f=t((function(t,i){s(t,v),p(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=i&&u(i,t[c],{that:t,AS_ENTRIES:n})})),v=f.prototype,m=h(e),y=function(t,e,n){var i,r,o=m(t),a=g(t,e);return a?a.value=n:(o.last=a={index:r=d(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),l?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},g=function(t,e){var n,i=m(t),r=d(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return o(v,{clear:function(){var t=this,e=m(t),n=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,l?e.size=0:t.size=0},delete:function(t){var e=this,n=m(e),i=g(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),l?n.size--:e.size--}return!!i},forEach:function(t){var e,n=m(this),i=a(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),o(v,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),l&&i(v,"size",{get:function(){return m(this).size}}),f},setStrong:function(t,e,n){var i=e+" Iterator",r=h(e),o=h(i);c(t,e,(function(t,e){p(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}}}]);