(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9ee064c"],{"6ada":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container"},[t("div",{attrs:{id:"cesiumContainer"}}),t("div",{staticClass:"tip-view"},[t("div",{staticClass:"tip"},[e._v("鼠标右键点击 停止绘制")]),t("el-button",{staticClass:"button",attrs:{type:"primary",plain:""},on:{click:e.start}},[e._v("开始绘制")])],1)])},r=[],s=(t("ba60"),t("9e48")),a=[{codeLanguage:"VUE",relyOn:[{label:"Entity.js",url:"cesium/Entity.js"}],code:[{codeLanguage:"html",content:'<div class="container">\n                    <div id="cesiumContainer"></div>\n                    <div class="tip-view">\n                      <div class="tip">鼠标右键点击 停止绘制</div>\n                      <el-button class="button" type="primary" @click="start" plain\n                        >开始绘制</el-button\n                      >\n                    </div>\n                  </div>'},{codeLanguage:"js",content:'import Entity from "@/common/cesium/Entity.js";\n                  export default {\n                    name: "drawPoint",\n                    data() {\n                      return {\n                        viewer: null,\n                        _Entity: null,\n                        handler: null,\n                        cesiumContainer: null,\n                        EntityData: [],\n                      };\n                    },\n                    mounted() {\n                      this.init();\n                    },\n                    methods: {\n                      init() {\n                        const Cesium = this.cesium;\n                        Cesium.Ion.defaultAccessToken = process.env.VUE_APP_TOKEN;\n                        this.viewer = new Cesium.Viewer("cesiumContainer", {\n                          imageryProvider: new Cesium.ArcGisMapServerImageryProvider({\n                            url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",\n                          }),\n                          terrainProvider: new Cesium.CesiumTerrainProvider({\n                            //加载火星在线地形\n                            url: "http://data.marsgis.cn/terrain",\n                          }),\n                          shouldAnimate: true,\n                          infoBox: false,\n                          selectionIndicator: false,\n                        });\n                        //设置贴地效果\n                        this.viewer.scene.globe.depthTestAgainstTerrain = false;\n                        this._Entity = new Entity(Cesium, this.viewer);\n                        this.cesiumContainer = document.getElementById("cesiumContainer");\n                        // this.start();\n                  \n                        //相机\n                        this.viewer.camera.flyTo({\n                          //setView是直接跳到 flyTo// 是镜头飞行到  网速不好或者电脑配置不高 还是不要fly了吧\n                          destination: Cesium.Cartesian3.fromDegrees(\n                            -75.59742934002912,\n                            40.03824624260394,\n                            5000\n                          ), //经纬度坐标转换为 笛卡尔坐标(世界坐标)\n                          orientation: {\n                            heading: Cesium.Math.toRadians(0.0), // east, default value is 0.0 (north) //东西南北朝向\n                            pitch: Cesium.Math.toRadians(-90), // default value (looking down)  //俯视仰视视觉\n                            roll: 0.0, // default value\n                          },\n                          duration: 3, //3秒到达战场\n                        });\n                      },\n                      /**\n                       * 开始\n                       */\n                      start() {\n                        const Cesium = this.cesium;\n                        this.handler = new Cesium.ScreenSpaceEventHandler(\n                          this.viewer.scene.canvas\n                        );\n                        this.cesiumContainer.style.cursor = "crosshair";\n                        //鼠标左键点击\n                        this.handler.setInputAction((event) => {\n                          const ray = this.viewer.camera.getPickRay(event.position);\n                          if (!ray) return null;\n                          const position = this.viewer.scene.globe.pick(ray, this.viewer.scene);\n                          const _EntityData = this._Entity.createPoint({\n                            position,\n                            color: Cesium.Color.SKYBLUE,\n                            pixelSize: 10,\n                            outlineColor: Cesium.Color.YELLOW,\n                            outlineWidth: 3,\n                            disableDepthTestDistance: Number.POSITIVE_INFINITY,\n                          });\n                          this.EntityData.push(_EntityData);\n                        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n                        //鼠标右键点击\n                        this.handler.setInputAction((event) => {\n                          this.handler.destroy(); //关闭事件句柄\n                          this.handler = null;\n                          this.cesiumContainer.style.cursor = "unset";\n                        }, Cesium.ScreenSpaceEventType.RIGHT_CLICK);\n                      },\n                    },\n                  };'},{codeLanguage:"css",content:".container {\n                      width: 100%;\n                      height: 100%;\n                      #cesiumContainer {\n                        width: 100%;\n                        height: 100%;\n                      }\n                      .tip-view {\n                        position: fixed;\n                        bottom: 0;\n                        right: 0;\n                        background-color: rgba(255, 255, 255, 1);\n                        z-index: 2;\n                        padding: 20px;\n                        border-radius: 10px 0 0 0;\n                        .tip {\n                          color: #e6a23c;\n                        }\n                        .button {\n                          margin-top: 10px;\n                        }\n                      }\n                    }"}]}],o={name:"drawPoint",data:function(){return{viewer:null,_Entity:null,handler:null,cesiumContainer:null,EntityData:[]}},created:function(){this.$store.dispatch("highlight/set_code",a)},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",VUE_APP_GAODE_KEY_WEB_SERVICE:"181ced609de9d446207b55e549bafcb6",VUE_APP_GAODE_KEY_WEB_TERMINAL:"cb250acd7ee0e7b2049cb93747ae3d44",VUE_APP_PUBLIC_URL:"/cesium-template",VUE_APP_SECURITY_JS_CODE:"2a0ce2005352672661417093c485a056",BASE_URL:""}).VUE_APP_TOKEN,this.viewer=new e.Viewer("cesiumContainer",{imageryProvider:new e.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new e.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1,this._Entity=new s["a"](e,this.viewer),this.cesiumContainer=document.getElementById("cesiumContainer"),this.viewer.camera.flyTo({destination:e.Cartesian3.fromDegrees(-75.59742934002912,40.03824624260394,5e3),orientation:{heading:e.Math.toRadians(0),pitch:e.Math.toRadians(-90),roll:0},duration:3})},start:function(){var e=this,n=this.cesium;this.handler=new n.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.cesiumContainer.style.cursor="crosshair",this.handler.setInputAction((function(t){var i=e.viewer.camera.getPickRay(t.position);if(!i)return null;var r=e.viewer.scene.globe.pick(i,e.viewer.scene),s=e._Entity.createPoint({position:r,color:n.Color.SKYBLUE,pixelSize:10,outlineColor:n.Color.YELLOW,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY});e.EntityData.push(s)}),n.ScreenSpaceEventType.LEFT_CLICK),this.handler.setInputAction((function(n){e.handler.destroy(),e.handler=null,e.cesiumContainer.style.cursor="unset"}),n.ScreenSpaceEventType.RIGHT_CLICK)}}},c=o,u=(t("6d21"),t("cba8")),l=Object(u["a"])(c,i,r,!1,null,"52fd113f",null);n["default"]=l.exports},"6d21":function(e,n,t){"use strict";t("708ca")},"708ca":function(e,n,t){},ba60:function(e,n,t){"use strict";var i=t("04c3"),r=t("b9f0"),s=t("bd4b"),a=t("b880"),o=t("6262"),c=t("d908"),u=t("6d3c"),l=t("db48"),d=t("33f5"),h=t("7ebf"),m=t("c80e"),p=t("5e78").f,v=t("7b19").f,E=t("8edf").f,f=t("d981"),C=t("7f34").trim,y="Number",I=r[y],_=I.prototype,b=r.TypeError,g=s("".slice),w=s("".charCodeAt),S=function(e){var n=h(e,"number");return"bigint"==typeof n?n:T(n)},T=function(e){var n,t,i,r,s,a,o,c,u=h(e,"number");if(d(u))throw b("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=C(u),n=w(u,0),43===n||45===n){if(t=w(u,2),88===t||120===t)return NaN}else if(48===n){switch(w(u,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(s=g(u,2),a=s.length,o=0;o<a;o++)if(c=w(s,o),c<48||c>r)return NaN;return parseInt(s,i)}return+u};if(a(y,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var A,P=function(e){var n=arguments.length<1?0:I(S(e)),t=this;return l(_,t)&&m((function(){f(t)}))?u(Object(n),t,P):n},N=i?p(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),L=0;N.length>L;L++)c(I,A=N[L])&&!c(P,A)&&E(P,A,v(I,A));P.prototype=_,_.constructor=P,o(r,y,P,{constructor:!0})}},d981:function(e,n,t){var i=t("bd4b");e.exports=i(1..valueOf)}}]);