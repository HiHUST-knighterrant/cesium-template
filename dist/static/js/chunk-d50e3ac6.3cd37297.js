(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d50e3ac6"],{"08e0":function(n,e,t){var i=t("8c4d"),o=t("bd4b"),r=t("2f72"),a=t("6554"),s=t("d908"),c=t("8edf").f,d=t("5e78"),l=t("4349"),u=t("3cea"),p=t("cc12"),f=t("c34f"),h=!1,m=p("meta"),v=0,g=function(n){c(n,m,{value:{objectID:"O"+v++,weakData:{}}})},b=function(n,e){if(!a(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!s(n,m)){if(!u(n))return"F";if(!e)return"E";g(n)}return n[m].objectID},w=function(n,e){if(!s(n,m)){if(!u(n))return!0;if(!e)return!1;g(n)}return n[m].weakData},y=function(n){return f&&h&&u(n)&&!s(n,m)&&g(n),n},C=function(){x.enable=function(){},h=!0;var n=d.f,e=o([].splice),t={};t[m]=1,n(t).length&&(d.f=function(t){for(var i=n(t),o=0,r=i.length;o<r;o++)if(i[o]===m){e(i,o,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},x=n.exports={enable:C,fastKey:b,getWeakData:w,onFreeze:y};r[m]=!0},"177c":function(n,e,t){var i=t("c80e");n.exports=i((function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}))},"30c6":function(n,e,t){"use strict";var i=t("8c4d"),o=t("b9f0"),r=t("bd4b"),a=t("b880"),s=t("6262"),c=t("08e0"),d=t("fbf6"),l=t("1176"),u=t("a010"),p=t("6554"),f=t("c80e"),h=t("b27c"),m=t("bf6c"),v=t("6d3c");n.exports=function(n,e,t){var g=-1!==n.indexOf("Map"),b=-1!==n.indexOf("Weak"),w=g?"set":"add",y=o[n],C=y&&y.prototype,x=y,P={},_=function(n){var e=r(C[n]);s(C,n,"add"==n?function(n){return e(this,0===n?0:n),this}:"delete"==n?function(n){return!(b&&!p(n))&&e(this,0===n?0:n)}:"get"==n?function(n){return b&&!p(n)?void 0:e(this,0===n?0:n)}:"has"==n?function(n){return!(b&&!p(n))&&e(this,0===n?0:n)}:function(n,t){return e(this,0===n?0:n,t),this})},E=a(n,!u(y)||!(b||C.forEach&&!f((function(){(new y).entries().next()}))));if(E)x=t.getConstructor(e,n,g,w),c.enable();else if(a(n,!0)){var O=new x,k=O[w](b?{}:-0,1)!=O,T=f((function(){O.has(1)})),S=h((function(n){new y(n)})),j=!b&&f((function(){var n=new y,e=5;while(e--)n[w](e,e);return!n.has(-0)}));S||(x=e((function(n,e){l(n,C);var t=v(new y,n,x);return void 0!=e&&d(e,t[w],{that:t,AS_ENTRIES:g}),t})),x.prototype=C,C.constructor=x),(T||j)&&(_("delete"),_("has"),g&&_("get")),(j||k)&&_(w),b&&C.clear&&delete C.clear}return P[n]=x,i({global:!0,constructor:!0,forced:x!=y},P),m(x,n),b||t.setStrong(x,n,g),x}},"3cea":function(n,e,t){var i=t("c80e"),o=t("6554"),r=t("7c2f"),a=t("177c"),s=Object.isExtensible,c=i((function(){s(1)}));n.exports=c||a?function(n){return!!o(n)&&((!a||"ArrayBuffer"!=r(n))&&(!s||s(n)))}:s},"4ec7":function(n,e,t){},"4f69":function(n,e,t){"use strict";var i=t("8c4d"),o=t("8c3e"),r=t("b70d"),a=t("1be9"),s=t("0d01"),c=t("3fb7"),d=t("da02"),l=t("9de2"),u=t("62cd"),p=t("80ce"),f=p("splice"),h=Math.max,m=Math.min;i({target:"Array",proto:!0,forced:!f},{splice:function(n,e){var t,i,p,f,v,g,b=o(this),w=s(b),y=r(n,w),C=arguments.length;for(0===C?t=i=0:1===C?(t=0,i=w-y):(t=C-2,i=m(h(a(e),0),w-y)),c(w+t-i),p=d(b,i),f=0;f<i;f++)v=y+f,v in b&&l(p,f,b[v]);if(p.length=i,t<i){for(f=y;f<w-i;f++)v=f+i,g=f+t,v in b?b[g]=b[v]:u(b,g);for(f=w;f>w-i+t;f--)u(b,f-1)}else if(t>i)for(f=w-i;f>y;f--)v=f+i-1,g=f+t-1,v in b?b[g]=b[v]:u(b,g);for(f=0;f<t;f++)b[f+y]=arguments[f+2];return b.length=w-i+t,p}})},"512d":function(n,e,t){"use strict";var i=t("30c6"),o=t("72d8");i("Set",(function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}}),o)},"62cd":function(n,e,t){"use strict";var i=t("6c8e"),o=TypeError;n.exports=function(n,e){if(!delete n[e])throw o("Cannot delete property "+i(e)+" of "+i(n))}},"660d":function(n,e,t){var i=t("6262");n.exports=function(n,e,t){for(var o in e)i(n,o,e[o],t);return n}},"696f":function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));t("3a68"),t("a256"),t("209b"),t("a769"),t("f0f8"),t("9afd"),t("d460");var i=t("9680");function o(n,e){if(n){if("string"===typeof n)return Object(i["a"])(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(i["a"])(n,e):void 0}}},6987:function(n,e,t){"use strict";t.r(e);var i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"container"},[t("div",{attrs:{id:"cesiumContainer"}}),n._l(n.dataPosition,(function(e,i){return t("div",{key:i},[t("popup-dom",{directives:[{name:"show",rawName:"v-show",value:-1!=JSON.stringify(n.show_list).indexOf(e.id),expression:"JSON.stringify(show_list).indexOf(item.id) != -1"}],attrs:{item:e},on:{close:n.popupClose}})],1)}))],2)},o=[],r=t("9680");function a(n){if(Array.isArray(n))return Object(r["a"])(n)}t("2a10"),t("bd34"),t("a256"),t("9daa"),t("f0f8"),t("e4b5"),t("a769");function s(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}var c=t("696f");t("f4cf");function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(n){return a(n)||s(n)||Object(c["a"])(n)||d()}t("840d"),t("209b"),t("f8d4"),t("ba90"),t("4f69");var u=t("896e"),p={lng:123.42840294759996,lat:41.81072850022128,height:5517},f=[{id:Object(u["a"])(),lng:123.42786580298868,lat:41.80191390065372,height:0,title:"市府广场",area:"66200平方米",year:"1911"},{id:Object(u["a"])(),lng:123.43378100090162,lat:41.811274298820095,height:0,title:"惠工广场",area:"",year:""},{id:Object(u["a"])(),lng:123.42942835160613,lat:41.81700147554745,height:0,title:"沈阳北站",area:"12.11万平方米",year:"1913"}],h=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"popupDom",attrs:{id:n.item.id}},[t("div",{staticClass:"close",on:{click:n.close}},[n._v("×")]),t("div",{staticClass:"title"},[n._v(n._s(n.item.title))]),t("div",{staticClass:"info-view"},[t("div",{staticClass:"info-item"},[t("div",{staticClass:"label"},[n._v("建筑面积：")]),t("div",{staticClass:"value"},[""!=n.item.area?[n._v(n._s(n.item.area))]:[n._v("未知")]],2)]),t("div",{staticClass:"info-item"},[t("div",{staticClass:"label"},[n._v("建筑年份：")]),t("div",{staticClass:"value"},[""!=n.item.year?[n._v(n._s(n.item.year))]:[n._v("未知")]],2)])]),t("div",{staticClass:"triangle"})])},m=[],v={name:"popupDom",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{close:function(){this.$emit("close",this.item.id)}}},g=v,b=(t("7447"),t("cba8")),w=Object(b["a"])(g,h,m,!1,null,"46c69291",null),y=w.exports,C=t("9e48"),x=[{codeLanguage:"VUE",relyOn:[{label:"data.js",url:"Vue/Html/htmlPopup/data.js"},{label:"popupDom.vue",url:"Vue/Html/htmlPopup/popupDom.vue"},{label:"Entity.js",url:"cesium/Entity.js"}],code:[{codeLanguage:"html",content:' <div class="container">\n                  <div id="cesiumContainer"></div>\n                  <div v-for="(item, index) in dataPosition" :key="index">\n                    <popup-dom\n                      @close="popupClose"\n                      v-show="JSON.stringify(show_list).indexOf(item.id) != -1"\n                      :item="item"\n                    />\n                  </div>\n                </div>'},{codeLanguage:"js",content:'import { initPosition, dataPosition } from "./module/data";\n                  import popupDom from "./module/popupDom.vue";\n                  import Entity from "@/common/cesium/Entity.js";\n                  export default {\n                    name: "htmlPopup",\n                    components: { popupDom },\n                    data() {\n                      return {\n                        viewer: null,\n                        _Entity: null,\n                        handler: null,\n                        dataPosition: dataPosition,\n                        show_list: [],\n                      };\n                    },\n                    mounted() {\n                      this.init();\n                    },\n                    methods: {\n                      init() {\n                        const Cesium = this.cesium;\n                        Cesium.Ion.defaultAccessToken = process.env.VUE_APP_TOKEN;\n                        this.viewer = new Cesium.Viewer("cesiumContainer", {\n                          imageryProvider: new Cesium.ArcGisMapServerImageryProvider({\n                            url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",\n                          }),\n                          terrainProvider: new Cesium.CesiumTerrainProvider({\n                            //加载火星在线地形\n                            url: "http://data.marsgis.cn/terrain",\n                          }),\n                          shouldAnimate: true,\n                          infoBox: false,\n                          selectionIndicator: false,\n                        });\n                        //设置贴地效果\n                        this.viewer.scene.globe.depthTestAgainstTerrain = false;\n                        this._Entity = new Entity(Cesium, this.viewer);\n                        this.handler = new Cesium.ScreenSpaceEventHandler(\n                          this.viewer.scene.canvas\n                        );\n                        this.start();\n                        //窗口位置设置\n                        this.popupPosition();\n                  \n                        //相机\n                        this.viewer.camera.flyTo({\n                          //setView是直接跳到 flyTo// 是镜头飞行到  网速不好或者电脑配置不高 还是不要fly了吧\n                          destination: Cesium.Cartesian3.fromDegrees(\n                            initPosition.lng,\n                            initPosition.lat,\n                            initPosition.height\n                          ), //经纬度坐标转换为 笛卡尔坐标(世界坐标)\n                          orientation: {\n                            heading: Cesium.Math.toRadians(0.0), // east, default value is 0.0 (north) //东西南北朝向\n                            pitch: Cesium.Math.toRadians(-90), // default value (looking down)  //俯视仰视视觉\n                            roll: 0.0, // default value\n                          },\n                          duration: 3, //3秒到达战场\n                        });\n                      },\n                      /**\n                       * 开始\n                       */\n                      start() {\n                        const Cesium = this.cesium;\n                        //添加点位\n                        this.dataPosition.map((item) => {\n                          this._Entity.createPoint({\n                            id: item.id,\n                            name: item.name,\n                            position: Cesium.Cartesian3.fromDegrees(item.lng, item.lat),\n                            color: Cesium.Color.CHARTREUSE.withAlpha(1),\n                            pixelSize: 10,\n                            heightReference: Cesium.HeightReference.CLAMP_TO_GROUND,\n                            outlineColor: Cesium.Color.WHITE,\n                            outlineWidth: 1,\n                          });\n                        });\n                        //鼠标左键点击事件\n                        this.handler.setInputAction((event) => {\n                          const pick = this.viewer.scene.pick(event.position);\n                          if (pick) {\n                            const f = this.dataPosition.filter(\n                              (item) => item.id == pick.id._id\n                            )[0];\n                            this.show_list.push(f.id);\n                            //数组去重\n                            this.show_list = [...new Set(this.show_list)];\n                          }\n                        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n                      },\n                      /**\n                       * 窗口位置设置\n                       */\n                      popupPosition() {\n                        const Cesium = this.cesium;\n                        for (let i = 0; i < this.dataPosition.length; i++) {\n                          const item = this.dataPosition[i];\n                          const dom = document.getElementById(item.id);\n                          /**\n                           * scene = 场景\n                           * preRender = Event 事件订阅\n                           * addEventListener = 注册一个在事件引发时执行的回调函数\n                           *\n                           */\n                          this.viewer.scene.preRender.addEventListener(() => {\n                            const position = Cesium.Cartesian3.fromDegrees(item.lng, item.lat, 0);\n                            /**\n                             * 转换为画布坐标\n                             * cartesianToCanvasCoordinates = 将笛卡尔坐标中的位置转换为画布坐标。这通常用于放置与场景中的对象位于同一屏幕位置的HTML元素。\n                             */\n                            var canvasPosition = this.viewer.scene.cartesianToCanvasCoordinates(\n                              position,\n                              new Cesium.Cartesian2()\n                            );\n                            if (Cesium.defined(canvasPosition)) {\n                              dom.style.top = canvasPosition.y - dom.offsetHeight + 20 + "px";\n                              dom.style.left = canvasPosition.x + dom.offsetWidth - 40 + "px";\n                            }\n                          });\n                        }\n                      },\n                      /**\n                       * 关闭窗口\n                       * @param {*} id\n                       */\n                      popupClose(id) {\n                        const index = this.show_list.indexOf(id);\n                        this.show_list.splice(index, 1);\n                      },\n                    },\n                  };'},{codeLanguage:"css",content:".container {\n                    width: 100%;\n                    height: 100%;\n                    #cesiumContainer {\n                      width: 100%;\n                      height: 100%;\n                    }\n                  } "}]},{codeLanguage:"JS",relyOn:[{label:"testDomHTML.js",url:"JavaScript/Html/htmlPopup/testDomHTML.js"}],code:[{codeLanguage:"js",content:'/**\n                    * 创建点位\n                    */\n                  class createPoint_sh {\n                      /**\n                       * @param {Object} Cesium \n                       * @param {Object} viewer \n                       * @param {Object} position  位置\n                       * @param {Object} id        id\n                       * @param {Object} name      name\n                       * @param {Object} option     配置选项参数\n                       */\n                      constructor(Cesium, viewer, position, id, name, option = {}) {\n                          this.Cesium = Cesium\n                          this.viewer = viewer\n                          this.position = position\n                          this.name = name\n                          this.id = id\n                          this.option = option\n                      }\n                  \n                      startCreate() {\n                          const Cesium = this.Cesium;\n                          const option = this.option\n                          const position = this.position\n                          const id = this.id\n                          const name = this.name\n                          let pointGeometry = this.viewer.entities.add({\n                              id,\n                              name,\n                              position,\n                              point: {\n                                  color: option?.color ? option.color : Cesium.Color.SKYBLUE,\n                                  pixelSize: option?.pixelSize ? option.pixelSize : 10,\n                                  outlineColor: option?.outlineColor ? option.outlineColor : Cesium.Color.YELLOW,\n                                  outlineWidth: option?.outlineWidth ? option.outlineWidth : 3,\n                                  disableDepthTestDistance: option?.disableDepthTestDistance ? option.disableDepthTestDistance : Number.POSITIVE_INFINITY,\n                              },\n                          });\n                          return pointGeometry;\n                      }\n                  }\n                  /**\n                    * 创建html\n                    */\n                  function addCreateHTML() {\n                      const _this = this\n                      //相机初始化位置数据\n                      const initPosition = {\n                          "lng": 123.42840294759996,\n                          "lat": 41.81072850022128,\n                          "height": 5517\n                      }\n                      //点位数据\n                      const test_data = [\n                          {\n                              "id": "e4df481f-fbfa-41cb-8582-cec2ffb46f31",\n                              "lng": 123.42786580298868,\n                              "lat": 41.80191390065372,\n                              "height": 0,\n                              "title": "市府广场",\n                              "area": "66200平方米",\n                              "year": "1911"\n                          },\n                          {\n                              "id": "dad52921-08cb-4ae0-b2c6-fb7342d8c52f",\n                              "lng": 123.43378100090162,\n                              "lat": 41.811274298820095,\n                              "height": 0,\n                              "title": "惠工广场",\n                              "area": "",\n                              "year": ""\n                          },\n                          {\n                              "id": "08a69a4d-cd14-4dd8-a28e-a91eb4fb1e1a",\n                              "lng": 123.42942835160613,\n                              "lat": 41.81700147554745,\n                              "height": 0,\n                              "title": "沈阳北站",\n                              "area": "12.11万平方米",\n                              "year": "1913"\n                          }\n                      ]\n                  \n                      //添加点位\n                      test_data.map(item => {\n                          const position = Cesium.Cartesian3.fromDegrees(item.lng, item.lat)\n                          const id = item.id\n                          const name = item.title\n                          const _addPoint = new createPoint_sh(Cesium, viewer, position, id, name)\n                          _addPoint.startCreate()\n                      })\n                  \n                      /**\n                        * 添加气泡\n                        * @param {*} obj 坐标\n                        * @param {*} id 点击的点位 弹出层id\n                        */\n                      function addPopup(obj, id) {\n                          let htmlOverlay = document.getElementById(id);\n                          htmlOverlay.style.display = "block";\n                          // console.log("htmlOverlay对象：", htmlOverlay);\n                          // console.log("htmlOverlay高度：", htmlOverlay.offsetHeight);\n                          // console.log("htmlOverlay宽度：", htmlOverlay.offsetWidth);\n                          //Cartesian2 = 2D笛卡尔点  可有参数 x,y\n                          let scratch = new Cesium.Cartesian2();\n                  \n                          /**\n                            * scene = 场景\n                            * preRender = Event 事件订阅\n                            * addEventListener = 注册一个在事件引发时执行的回调函数\n                            *\n                            */\n                          viewer.scene.preRender.addEventListener(function () {\n                              var position = Cesium.Cartesian3.fromDegrees(\n                                  obj.lng,\n                                  obj.lat,\n                                  obj.height\n                              );\n                              /**\n                                * 转换为画布坐标\n                                * cartesianToCanvasCoordinates = 将笛卡尔坐标中的位置转换为画布坐标。这通常用于放置与场景中的对象位于同一屏幕位置的HTML元素。\n                                */\n                              var canvasPosition = viewer.scene.cartesianToCanvasCoordinates(\n                                  position,\n                                  scratch\n                              );\n                              if (Cesium.defined(canvasPosition)) {\n                                  htmlOverlay.style.top =\n                                      canvasPosition.y - htmlOverlay.offsetHeight + "px";\n                                  htmlOverlay.style.left =\n                                      canvasPosition.x - htmlOverlay.offsetWidth / 2 + "px";\n                              }\n                          });\n                      }\n                  \n                      /**\n                        * 添加html\n                        * @param {*} lng\n                        * @param {*} lat\n                        * @param {*} id 点击的点位 弹出层id\n                        */\n                      function addHTML(lng, lat, id) {\n                          //沈阳市府广场\n                          const obj = { lng, lat };\n                          let cartographics = [Cesium.Cartographic.fromDegrees(obj.lng, obj.lat)];\n                          cartographics.obj = obj;\n                          // sampleTerrain=采样地形 三个参数分别备注如下\n                          Cesium.sampleTerrain(\n                              viewer.scene.terrainProvider, //地形相关的\n                              14, //地形高度级别\n                              cartographics\n                          ).then((updatedPositions) => {\n                              // console.log(updatedPositions);\n                              // console.log("高度：", updatedPositions[0].height);\n                              updatedPositions.obj.height = updatedPositions[0].height;\n                              addPopup(updatedPositions.obj, id);\n                          });\n                      }\n                  \n                  \n                  \n                      //鼠标事件\n                      let handler = new Cesium.ScreenSpaceEventHandler(\n                          viewer.scene.canvas\n                      );\n                  \n                      handler.setInputAction((event) => {\n                          var pick = viewer.scene.pick(event.position);\n                          if (pick && pick.id) {\n                              let f = test_data.filter((item) => item.id == pick.id._id);\n                              console.log(test_data)\n                              console.log(f)\n                              if (f.length == 0) {\n                                  return\n                              }\n                              addHTML(f[0].lng, f[0].lat, pick.id._id);//添加id 调用上面处理函数\n                  \n                              //查询是否存在dom\n                              const hasDom = new operationDom(pick.id._id).hasDom\n                              if (hasDom) {\n                                  return\n                              }\n                  \n                              const _createHTMLClass = new operationDom("MainCenter", testDomHTML(f[0], pick.id._id))\n                              _createHTMLClass.append()\n                          }\n                      }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n                  \n                  \n                      //相机\n                      viewer.camera.flyTo({\n                          //setView是直接跳到 flyTo// 是镜头飞行到  网速不好或者电脑配置不高 还是不要fly了吧\n                          destination: Cesium.Cartesian3.fromDegrees(\n                              initPosition.lng,\n                              initPosition.lat,\n                              initPosition.height\n                          ), //经纬度坐标转换为 笛卡尔坐标(世界坐标)\n                          orientation: {\n                              heading: Cesium.Math.toRadians(0.0), // east, default value is 0.0 (north) //东西南北朝向\n                              pitch: Cesium.Math.toRadians(-90), // default value (looking down)  //俯视仰视视觉\n                              roll: 0.0, // default value\n                          },\n                          duration: 3, //3秒到达战场\n                      });\n                  }\n                  '},{codeLanguage:"css",content:'.cesium-popup {\n                      position: absolute;\n                      left: 0;\n                      top: 5px;\n                      text-align: left;\n                      display: none;\n                  }\n                  \n                  .cesium-popup-background {\n                      background: rgba(0, 0, 0, 0.6);\n                      border-radius: 6px;\n                  }\n                  \n                  .cesium-popup-content-wrapper {\n                      text-align: center;\n                      max-height: 600px;\n                      overflow-y: auto;\n                      box-shadow: 0 3px 14px rgba(0, 0, 0, 0.4);\n                      text-align: left;\n                      border-radius: 3px;\n                  }\n                  \n                  .cesium-popup-color {\n                      color: white;\n                  }\n                  \n                  .cesium-popup-content {\n                      margin: 15px 10px 10px;\n                      line-height: 1.4;\n                      font-size: 13px;\n                      max-width: 439px;\n                      min-width: 50px;\n                  }\n                  \n                  .cesium-popup-tip-container {\n                      margin: 0 auto;\n                      width: 40px;\n                      height: 13px;\n                      position: relative;\n                      overflow: hidden;\n                  }\n                  \n                  .cesium-popup-tip {\n                      box-shadow: 0 3px 14px rgba(0, 0, 0, .4);\n                      width: 17px;\n                      height: 17px;\n                      padding: 1px;\n                      margin: -10px auto 0;\n                      -webkit-transform: rotate(45deg);\n                      transform: rotate(45deg);\n                  }\n                  \n                  .cesium-popup-close-button {\n                      position: absolute;\n                      top: 0;\n                      right: 0;\n                      padding: 4px 4px 0 0;\n                      text-align: center;\n                      width: 18px;\n                      height: 14px;\n                      font: 16px/14px Tahoma, Verdana, sans-serif;\n                      text-decoration: none;\n                      font-weight: 700;\n                      background: transparent;\n                      z-index: 9999;\n                      color: #fff !important;\n                  }\n                  \n                  .cesium-popup-close-button:hover {\n                      cursor: pointer;\n                      color: #23527c;\n                  }\n                  \n                  \n                  .switch {\n                      appearance: none;\n                      -moz-appearance: button;\n                      -webkit-appearance: none;\n                  }\n                  \n                  .switch {\n                      position: relative;\n                      margin: 0;\n                      width: 40PX;\n                      height: 24PX;\n                      border: 1PX solid #EBEBF9;\n                      outline: 0;\n                      border-radius: 16PX;\n                      box-sizing: border-box;\n                      background-color: #EBEBF9;\n                      -webkit-transition: background-color 0.1s, border 0.1s;\n                      transition: background-color 0.1s, border 0.1s;\n                  }\n                  \n                  .switch:before {\n                      content: " ";\n                      position: absolute;\n                      top: 0;\n                      left: 0;\n                      width: 38PX;\n                      height: 22PX;\n                      border-radius: 19PX;\n                      background-color: #EBEBF9;\n                      -webkit-transition: -webkit-transform 0.35s cubic-bezier(0.45, 1, 0.4, 1);\n                      transition: -webkit-transform 0.35s cubic-bezier(0.45, 1, 0.4, 1);\n                      transition: transform 0.35s cubic-bezier(0.45, 1, 0.4, 1);\n                  }\n                  \n                  .switch:after {\n                      content: " ";\n                      position: absolute;\n                      top: 0;\n                      left: 1px;\n                      width: 22PX;\n                      height: 22PX;\n                      border-radius: 15PX;\n                      background-color: #FFFFFF;\n                      /*box-shadow: 0 1PX 3PX rgba(0, 0, 0, 0.4);*/\n                      -webkit-transition: -webkit-transform 0.35s cubic-bezier(0.4, 0.4, 0.25, 1.35);\n                      transition: -webkit-transform 0.35s cubic-bezier(0.4, 0.4, 0.25, 1.35);\n                      transition: transform 0.35s cubic-bezier(0.4, 0.4, 0.25, 1.35);\n                  }\n                  \n                  .switch:checked {\n                      background: #00D287;\n                      border: solid 1px #00D287;\n                  }\n                  \n                  .switch:checked:before {\n                      transform: scale(0);\n                  }\n                  \n                  .switch:checked:after {\n                      transform: translateX(15PX);\n                  }'}]}],P={name:"htmlPopup",components:{popupDom:y},data:function(){return{viewer:null,_Entity:null,handler:null,dataPosition:f,show_list:[]}},created:function(){this.$store.dispatch("highlight/set_code",x)},mounted:function(){this.init()},methods:{init:function(){var n=this.cesium;n.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",VUE_APP_GAODE_KEY_WEB_SERVICE:"181ced609de9d446207b55e549bafcb6",VUE_APP_GAODE_KEY_WEB_TERMINAL:"cb250acd7ee0e7b2049cb93747ae3d44",VUE_APP_PUBLIC_URL:"/cesium-template",BASE_URL:""}).VUE_APP_TOKEN,this.viewer=new n.Viewer("cesiumContainer",{imageryProvider:new n.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new n.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1,this._Entity=new C["a"](n,this.viewer),this.handler=new n.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.start(),this.popupPosition(),this.viewer.camera.flyTo({destination:n.Cartesian3.fromDegrees(p.lng,p.lat,p.height),orientation:{heading:n.Math.toRadians(0),pitch:n.Math.toRadians(-90),roll:0},duration:3})},start:function(){var n=this,e=this.cesium;this.dataPosition.map((function(t){n._Entity.createPoint({id:t.id,name:t.name,position:e.Cartesian3.fromDegrees(t.lng,t.lat),color:e.Color.CHARTREUSE.withAlpha(1),pixelSize:10,heightReference:e.HeightReference.CLAMP_TO_GROUND,outlineColor:e.Color.WHITE,outlineWidth:1})})),this.handler.setInputAction((function(e){var t=n.viewer.scene.pick(e.position);if(t){var i=n.dataPosition.filter((function(n){return n.id==t.id._id}))[0];n.show_list.push(i.id),n.show_list=l(new Set(n.show_list))}}),e.ScreenSpaceEventType.LEFT_CLICK)},popupPosition:function(){for(var n=this,e=this.cesium,t=function(t){var i=n.dataPosition[t],o=document.getElementById(i.id);n.viewer.scene.preRender.addEventListener((function(){var t=e.Cartesian3.fromDegrees(i.lng,i.lat),r=n.viewer.scene.cartesianToCanvasCoordinates(t,new e.Cartesian2);e.defined(r)&&(o.style.top=r.y-o.offsetHeight+20+"px",o.style.left=r.x+o.offsetWidth-40+"px")}))},i=0;i<this.dataPosition.length;i++)t(i)},popupClose:function(n){var e=this.show_list.indexOf(n);this.show_list.splice(e,1)}}},_=P,E=(t("e9b2"),Object(b["a"])(_,i,o,!1,null,"3381dc4a",null));e["default"]=E.exports},"72d8":function(n,e,t){"use strict";var i=t("8edf").f,o=t("6f65"),r=t("660d"),a=t("3d2b"),s=t("1176"),c=t("fbf6"),d=t("1c92"),l=t("dc3b"),u=t("04c3"),p=t("08e0").fastKey,f=t("29df"),h=f.set,m=f.getterFor;n.exports={getConstructor:function(n,e,t,d){var l=n((function(n,i){s(n,f),h(n,{type:e,index:o(null),first:void 0,last:void 0,size:0}),u||(n.size=0),void 0!=i&&c(i,n[d],{that:n,AS_ENTRIES:t})})),f=l.prototype,v=m(e),g=function(n,e,t){var i,o,r=v(n),a=b(n,e);return a?a.value=t:(r.last=a={index:o=p(e,!0),key:e,value:t,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=a),i&&(i.next=a),u?r.size++:n.size++,"F"!==o&&(r.index[o]=a)),n},b=function(n,e){var t,i=v(n),o=p(e);if("F"!==o)return i.index[o];for(t=i.first;t;t=t.next)if(t.key==e)return t};return r(f,{clear:function(){var n=this,e=v(n),t=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete t[i.index],i=i.next;e.first=e.last=void 0,u?e.size=0:n.size=0},delete:function(n){var e=this,t=v(e),i=b(e,n);if(i){var o=i.next,r=i.previous;delete t.index[i.index],i.removed=!0,r&&(r.next=o),o&&(o.previous=r),t.first==i&&(t.first=o),t.last==i&&(t.last=r),u?t.size--:e.size--}return!!i},forEach:function(n){var e,t=v(this),i=a(n,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:t.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(n){return!!b(this,n)}}),r(f,t?{get:function(n){var e=b(this,n);return e&&e.value},set:function(n,e){return g(this,0===n?0:n,e)}}:{add:function(n){return g(this,n=0===n?0:n,n)}}),u&&i(f,"size",{get:function(){return v(this).size}}),l},setStrong:function(n,e,t){var i=e+" Iterator",o=m(e),r=m(i);d(n,e,(function(n,e){h(this,{type:i,target:n,state:o(n),kind:e,last:void 0})}),(function(){var n=r(this),e=n.kind,t=n.last;while(t&&t.removed)t=t.previous;return n.target&&(n.last=t=t?t.next:n.state.first)?"keys"==e?{value:t.key,done:!1}:"values"==e?{value:t.value,done:!1}:{value:[t.key,t.value],done:!1}:(n.target=void 0,{value:void 0,done:!0})}),t?"entries":"values",!t,!0),l(e)}}},7447:function(n,e,t){"use strict";t("4ec7")},"896e":function(n,e,t){"use strict";var i,o=new Uint8Array(16);function r(){if(!i&&(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(n){return"string"===typeof n&&a.test(n)}for(var c=s,d=[],l=0;l<256;++l)d.push((l+256).toString(16).substr(1));function u(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(d[n[e+0]]+d[n[e+1]]+d[n[e+2]]+d[n[e+3]]+"-"+d[n[e+4]]+d[n[e+5]]+"-"+d[n[e+6]]+d[n[e+7]]+"-"+d[n[e+8]]+d[n[e+9]]+"-"+d[n[e+10]]+d[n[e+11]]+d[n[e+12]]+d[n[e+13]]+d[n[e+14]]+d[n[e+15]]).toLowerCase();if(!c(t))throw TypeError("Stringified UUID is invalid");return t}var p=u;function f(n,e,t){n=n||{};var i=n.random||(n.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=i[o];return e}return p(i)}e["a"]=f},9680:function(n,e,t){"use strict";function i(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}t.d(e,"a",(function(){return i}))},ba90:function(n,e,t){t("512d")},c34f:function(n,e,t){var i=t("c80e");n.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d2552:function(n,e,t){},e9b2:function(n,e,t){"use strict";t("d2552")}}]);