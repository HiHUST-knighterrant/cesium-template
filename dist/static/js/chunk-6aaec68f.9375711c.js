(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aaec68f"],{"0b89":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"cesiumContainer"}}),n("panel-view",{on:{draws:e.draws,clears:e.clears}})],1)},i=[],o=(n("7502"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"panel-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("操作面板")]),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.clears}},[e._v("清除")])],1),n("div",{staticClass:"panel-content"},e._l(e.clickCreateFor,(function(t,r){return n("el-button",{key:r,attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.clickCreate(t.value)}}},[e._v(e._s(t.label))])})),1)])}),a=[],c={props:{option:{type:Object,default:function(){return{}}}},data:function(){return{clickCreateFor:[{label:"点",value:"Point"},{label:"线",value:"Polyline"},{label:"面",value:"polygon"},{label:"矩形",value:"rectangle"},{label:"圆",value:"ellipse"}]}},created:function(){},mounted:function(){},methods:{clickCreate:function(e){this.$emit("draws",e)},clears:function(){this.$emit("clears")}}},l=c,s=(n("461c"),n("cba8")),u=Object(s["a"])(l,o,a,!1,null,"2afaef66",null),p=u.exports,f=n("9192"),h=n("4bb1"),v=n("e143");n("a567"),n("dba9");function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}n("bfa4"),n("eb3b"),n("68eb"),n("db8c");function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=n("900a");function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if(t&&("object"===Object(m["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function C(e){var t=b();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}n("5f01"),n("ee5c");var S=n("9e48"),I=function(e){y(n,e);var t=C(n);function n(){return Object(h["a"])(this,n),t.apply(this,arguments)}return Object(v["a"])(n,[{key:"createPoint",value:function(e,t,n){var r=this.Cesium,i=this.viewer,o=new S["a"](this.Cesium,this.viewer);t.setInputAction((function(t){var a=i.camera.getPickRay(t.position),c=i.scene.globe.pick(a,i.scene);if(r.defined(c)){var l=o.createPoint(Object(f["a"])({position:c},e));n({entity:l,entityMsg:"绘制点",handlerMsg:"左键",msg:"成功",code:200})}}),r.ScreenSpaceEventType.LEFT_DOWN),t.setInputAction((function(e){t=null,n({entity:void 0,entityMsg:"绘制点",handlerMsg:"右键",msg:"成功",code:201})}),r.ScreenSpaceEventType.RIGHT_CLICK)}},{key:"createPolyline",value:function(e,t,n){var r=this,i=this.Cesium,o=new S["a"](this.Cesium,this.viewer),a=null,c=[],l=function(e){return r.viewer.scene.camera.pickEllipsoid(e,r.viewer.scene.globe.ellipsoid)};t.setInputAction((function(e){var t=l(e.position);i.defined(t)&&(0==c.length&&c.push(t.clone()),c.push(t),n({entity:void 0,entityMsg:"绘制线",handlerMsg:"左键",msg:"成功",code:202}))}),i.ScreenSpaceEventType.LEFT_CLICK),t.setInputAction((function(t){var r=l(t.endPosition);if(c.length>=2){if(i.defined(a))void 0!=r&&(c.pop(),r.y+=1+Math.random(),c.push(r));else{var s=new i.CallbackProperty((function(){return c}),!1);a=o.createPolyline(Object(f["a"])({positions:s},e))}n({entity:c,entityMsg:"绘制线",handlerMsg:"移动",msg:"成功",code:200})}}),i.ScreenSpaceEventType.MOUSE_MOVE),t.setInputAction((function(e){t=null,n({entity:void 0,entityMsg:"绘制线",handlerMsg:"右键",msg:"成功",code:201})}),i.ScreenSpaceEventType.RIGHT_CLICK)}},{key:"createPolygon",value:function(e,t,n){var r=this,i=this.Cesium,o=new S["a"](this.Cesium,this.viewer),a=[],c=[],l=[],s=null,u=function(e){return r.viewer.scene.camera.pickEllipsoid(e,r.viewer.scene.globe.ellipsoid)};t.setInputAction((function(e){var t=r.viewer.camera.getPickRay(e.position);if(c=r.viewer.scene.globe.pick(t,r.viewer.scene),i.defined(c)){l.push(c);l.length;var n=o.createPoint({position:c,color:i.Color.SKYBLUE,pixelSize:10,outlineColor:i.Color.YELLOW,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY,heightReference:i.HeightReference.CLAMP_TO_GROUND});a.push(n)}}),i.ScreenSpaceEventType.LEFT_CLICK),t.setInputAction((function(e){var t=u(e.endPosition);if(i.defined(s))void 0!=t&&(l.pop(),t.y+=1+Math.random(),l.push(t));else{var r=new i.CallbackProperty((function(){return l}),!1);s=o.createPolyline({positions:r,material:i.Color.RED,width:2})}var c=l.length;if(c>=3){var p=o.createPolygon({hierarchy:new i.CallbackProperty((function(e,t){return new i.PolygonHierarchy(l,null)}),!1),material:i.Color.fromCssColorString("#FFD700").withAlpha(.2)});a.push(p)}n({entity:void 0,entityMsg:"绘制面",handlerMsg:"移动",msg:"成功",code:202})}),i.ScreenSpaceEventType.MOUSE_MOVE),t.setInputAction((function(e){var r=new i.CallbackProperty((function(){return[l[l.length-1],l[0]]}),!1);s=o.createPolyline({positions:r,material:i.Color.RED,width:2}),a.push(s),t=null,n({entity:a,entityMsg:"绘制面",handlerMsg:"右键",msg:"成功",code:200})}),i.ScreenSpaceEventType.RIGHT_CLICK)}},{key:"createRectangle",value:function(e,t,n){var r=this,i=this.Cesium,o=new S["a"](this.Cesium,this.viewer),a=null,c=null;this.viewer.scene.screenSpaceCameraController.enableRotate=!1,this.viewer.scene.screenSpaceCameraController.enableZoom=!1,t.setInputAction((function(e){var t=r.viewer.camera.getPickRay(e.position),n=r.viewer.scene.globe.pick(t,r.viewer.scene);i.defined(n)&&(a=o.createPoint({position:n,color:i.Color.SKYBLUE,pixelSize:10,outlineColor:i.Color.YELLOW,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY,heightReference:i.HeightReference.CLAMP_TO_GROUND}),c=o.createRectangle({coordinates:i.Rectangle.fromCartesianArray([n,n]),material:i.Color.GREENYELLOW.withAlpha(.5),outline:!0,outlineColor:i.Color.WHITE,outlineWidth:3}))}),i.ScreenSpaceEventType.LEFT_DOWN),t.setInputAction((function(e){if(null!=a&&null!=c){var t=r.viewer.camera.getPickRay(e.endPosition),n=r.viewer.scene.globe.pick(t,r.viewer.scene);if(n){var o=a.position.getValue(i.JulianDate.now());c.rectangle.coordinates=new i.CallbackProperty((function(e,t){return i.Rectangle.fromCartesianArray([o,n])}),!1)}}}),i.ScreenSpaceEventType.MOUSE_MOVE),t.setInputAction((function(e){r.viewer.scene.screenSpaceCameraController.enableRotate=!0,r.viewer.scene.screenSpaceCameraController.enableZoom=!0,r.viewer.entities.remove(a),t.removeInputAction(i.ScreenSpaceEventType.LEFT_DOWN),t.removeInputAction(i.ScreenSpaceEventType.MOUSE_MOVE),t.removeInputAction(i.ScreenSpaceEventType.LEFT_UP),t=null;var o=c.rectangle.coordinates.getValue(),l=i.Math.toDegrees(o.east),s=i.Math.toDegrees(o.west),u=i.Math.toDegrees(o.north),p=i.Math.toDegrees(o.south);n({entity:c,entityMsg:"绘制矩形",handlerMsg:"左键抬起",msg:"成功",code:200,data:"矩形西南东北坐标:".concat(s,",").concat(p,",").concat(l,",").concat(u,"；笛卡尔：").concat(JSON.stringify(o))})}),i.ScreenSpaceEventType.LEFT_UP)}},{key:"createEllipse",value:function(e,t,n){var r=this,i=this.Cesium,o=new S["a"](this.Cesium,this.viewer),a=null,c=null;this.viewer.scene.screenSpaceCameraController.enableRotate=!1,this.viewer.scene.screenSpaceCameraController.enableZoom=!1,t.setInputAction((function(e){var t=r.viewer.camera.getPickRay(e.position),n=r.viewer.scene.globe.pick(t,r.viewer.scene);i.defined(n)&&(a=o.createPoint({position:n,color:i.Color.SKYBLUE,pixelSize:10,outlineColor:i.Color.YELLOW,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY,heightReference:i.HeightReference.CLAMP_TO_GROUND}),c=o.createEllipse({position:n,semiMinorAxis:.1,semiMajorAxis:.1,material:i.Color.GREENYELLOW.withAlpha(.5),outline:!0,outlineColor:i.Color.WHITE,outlineWidth:3}))}),i.ScreenSpaceEventType.LEFT_DOWN),t.setInputAction((function(e){if(null!=a&&null!=c){var t=r.viewer.camera.getPickRay(e.endPosition),n=r.viewer.scene.globe.pick(t,r.viewer.scene);if(n){var o=a.position.getValue(i.JulianDate.now()),l=r.viewer.scene.globe.ellipsoid.cartesianToCartographic(o),s=r.viewer.scene.globe.ellipsoid.cartesianToCartographic(n),u=new i.EllipsoidGeodesic;u.setEndPoints(l,s);var p=u.surfaceDistance;p<=0||(c.ellipse.semiMinorAxis=new i.CallbackProperty((function(e,t){return p}),!1),c.ellipse.semiMajorAxis=new i.CallbackProperty((function(e,t){return p}),!1))}}}),i.ScreenSpaceEventType.MOUSE_MOVE),t.setInputAction((function(e){r.viewer.scene.screenSpaceCameraController.enableRotate=!0,r.viewer.scene.screenSpaceCameraController.enableZoom=!0,t.removeInputAction(i.ScreenSpaceEventType.LEFT_DOWN),t.removeInputAction(i.ScreenSpaceEventType.MOUSE_MOVE),t.removeInputAction(i.ScreenSpaceEventType.LEFT_UP),c.ellipse.semiMinorAxis.getValue()<.5&&(r.viewer.entities.remove(c),c=null),r.viewer.entities.remove(a),a=null,n({entity:c,entityMsg:"绘制圆",handlerMsg:"左键抬起",msg:"成功",code:200})}),i.ScreenSpaceEventType.LEFT_UP)}},{key:"createArrow",value:function(e,t,n){this.Cesium,new S["a"](this.Cesium,this.viewer)}}]),n}(S["a"]),T=I,O={components:{panelView:p},data:function(){return{viewer:null,handler:null,_Draw:null}},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlNTIzZTZiYi05OWQxLTQ0OTUtYTUzNC1mYjYxNWI4OTZiZTYiLCJpZCI6OTA3MDUsImlhdCI6MTY1MDUzNDAzMn0.0f1DG8NlExZnbrueMn_AgO6GX_g_RASavpxAWcVymPs",this.viewer=new e.Viewer("cesiumContainer",{animation:!1,timeline:!1,shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(e.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this._Draw=new T(e,this.viewer)},clears:function(){var e=this.cesium;this.handler&&(this.handler.removeInputAction(e.ScreenSpaceEventType.LEFT_DOWN),this.handler.removeInputAction(e.ScreenSpaceEventType.MOUSE_MOVE),this.handler.removeInputAction(e.ScreenSpaceEventType.LEFT_UP),this.handler.destroy(),this.handler=null),this.viewer.entities.removeAll(),this.viewer.scene.postProcessStages.removeAll(),this.viewer.scene.screenSpaceCameraController.enableRotate=!0,this.viewer.scene.screenSpaceCameraController.enableZoom=!0},draws:function(e){var t=this,n=this.cesium,r=this.viewer;this.handler=new n.ScreenSpaceEventHandler(r.scene.canvas),"Point"==e&&this._Draw.createPoint({color:n.Color.SKYBLUE,pixelSize:10,outlineColor:n.Color.YELLOW,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY},this.handler,(function(e){e.code,201==e.code&&(t.handler.destroy(),t.handler=null)})),"Polyline"==e&&this._Draw.createPolyline({material:n.Color.RED,width:5},this.handler,(function(e){e.code,201==e.code&&(t.handler.destroy(),t.handler=null)})),"polygon"==e&&this._Draw.createPolygon({},this.handler,(function(e){200==e.code&&(t.handler.destroy(),t.handler=null)})),"rectangle"==e&&this._Draw.createRectangle({},this.handler,(function(e){200==e.code&&(console.log(e),t.handler.destroy(),t.handler=null)})),"ellipse"==e&&this._Draw.createEllipse({},this.handler,(function(e){200==e.code&&(console.log(e),t.handler.destroy(),t.handler=null)})),"arrow"==e&&this._Draw.createArrow({},this.handler,(function(e){200==e.code&&(console.log(e),t.handler.destroy(),t.handler=null)}))}}},_=O,P=(n("1b9d"),Object(s["a"])(_,r,i,!1,null,"5d480048",null));t["default"]=P.exports},"18aa":function(e,t,n){},"1b9d":function(e,t,n){"use strict";n("18aa")},4488:function(e,t,n){var r=n("4162");e.exports=r(1..valueOf)},"461c":function(e,t,n){"use strict";n("fa6c")},"4bb1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a567");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"68eb":function(e,t,n){var r=n("46a7"),i=n("eaa4"),o=n("2a86");r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},7502:function(e,t,n){"use strict";var r=n("5fa3"),i=n("eaa4"),o=n("4162"),a=n("d12a"),c=n("05b4"),l=n("a220"),s=n("555a"),u=n("736f"),p=n("7d68"),f=n("d957"),h=n("d2b9"),v=n("d0a3").f,d=n("6311").f,y=n("c4d4").f,w=n("4488"),b=n("942b").trim,m="Number",g=i[m],E=g.prototype,C=i.TypeError,S=o("".slice),I=o("".charCodeAt),T=function(e){var t=f(e,"number");return"bigint"==typeof t?t:O(t)},O=function(e){var t,n,r,i,o,a,c,l,s=f(e,"number");if(p(s))throw C("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=b(s),t=I(s,0),43===t||45===t){if(n=I(s,2),88===n||120===n)return NaN}else if(48===t){switch(I(s,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+s}for(o=S(s,2),a=o.length,c=0;c<a;c++)if(l=I(o,c),l<48||l>i)return NaN;return parseInt(o,r)}return+s};if(a(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var _,P=function(e){var t=arguments.length<1?0:g(T(e)),n=this;return u(E,n)&&h((function(){w(n)}))?s(Object(t),n,P):t},A=r?v(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),M=0;A.length>M;M++)l(g,_=A[M])&&!l(P,_)&&y(P,_,d(g,_));P.prototype=E,E.constructor=P,c(i,m,P,{constructor:!0})}},"78be":function(e,t,n){var r=n("46a7"),i=n("bc35"),o=n("5386");r({target:"Array",proto:!0},{fill:i}),o("fill")},bc35:function(e,t,n){"use strict";var r=n("735b"),i=n("32da"),o=n("1c60");e.exports=function(e){var t=r(this),n=o(t),a=arguments.length,c=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,s=void 0===l?n:i(l,n);while(s>c)t[c++]=e;return t}},bfa4:function(e,t,n){var r=n("46a7"),i=n("76bf"),o=n("06a7"),a=n("e727"),c=n("a644"),l=n("9923"),s=n("5621"),u=n("8b38"),p=n("d2b9"),f=i("Reflect","construct"),h=Object.prototype,v=[].push,d=p((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),y=!p((function(){f((function(){}))})),w=d||y;r({target:"Reflect",stat:!0,forced:w,sham:w},{construct:function(e,t){c(e),l(t);var n=arguments.length<3?e:c(arguments[2]);if(y&&!d)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(v,r,t),new(o(a,e,r))}var i=n.prototype,p=u(s(i)?i:h),w=o(e,p,t);return s(w)?w:p}})},e143:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return i}))},e727:function(e,t,n){"use strict";var r=n("4162"),i=n("bc26"),o=n("5621"),a=n("a220"),c=n("8cc0"),l=n("6ef5"),s=Function,u=r([].concat),p=r([].join),f={},h=function(e,t,n){if(!a(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=s("C,a","return new C("+p(r,",")+")")}return f[t](e,n)};e.exports=l?s.bind:function(e){var t=i(this),n=t.prototype,r=c(arguments,1),a=function(){var n=u(r,c(arguments));return this instanceof a?h(t,n.length,n):t.apply(e,n)};return o(n)&&(a.prototype=n),a}},fa6c:function(e,t,n){}}]);