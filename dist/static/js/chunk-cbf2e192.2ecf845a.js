(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cbf2e192"],{"1b88":function(e,n,t){"use strict";t("6762")},2374:function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{ref:"container",staticClass:"container"},[t("div",{attrs:{id:"cesiumContainer"}}),t("div",{staticClass:"slider-view"},[t("div",{ref:"line",staticClass:"slider-line"}),t("div",{ref:"slider",staticClass:"slider"},[t("i",{staticClass:"el-icon-s-operation icon"})])])])},s=[],r=[{codeLanguage:"VUE",relyOn:[],code:[{codeLanguage:"html",content:'<template>\n                      <div class="container" ref="container">\n                        <div id="cesiumContainer"></div>\n                        <div class="slider-view">\n                          <div class="slider-line" ref="line"></div>\n                          <div class="slider" ref="slider">\n                            <i class="el-icon-s-operation icon"></i>\n                          </div>\n                        </div>\n                      </div>\n                    </template>'},{codeLanguage:"js",content:'export default {\n                          data() {\n                            return {\n                              viewer: null,\n                              handler: null,\n                              moveActive: false,\n                            };\n                          },\n                          mounted() {\n                            this.init();\n                          },\n                          methods: {\n                            init() {\n                              const Cesium = this.cesium;\n                              this.viewer = new Cesium.Viewer("cesiumContainer", {\n                                shouldAnimate: true,\n                                infoBox: false,\n                                selectionIndicator: false,\n                              });\n                              // 添加图层\n                              const layer1 = new Cesium.UrlTemplateImageryProvider({\n                                url: "http://webrd02.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",\n                                minimumLevel: 1,\n                                maximumLevel: 18,\n                              });\n                              const layer2 = new Cesium.UrlTemplateImageryProvider({\n                                url: "https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",\n                                minimumLevel: 1,\n                                maximumLevel: 18,\n                              });\n                        \n                              const layers = this.viewer.imageryLayers;\n                              const earthAtRight = layers.addImageryProvider(layer1);\n                              const earthAtLeft = layers.addImageryProvider(layer2);\n                        \n                              earthAtLeft.splitDirection = Cesium.SplitDirection.LEFT;\n                              earthAtRight.splitDirection = Cesium.SplitDirection.RIGHT;\n                        \n                              this.initRollerShutter();\n                            },\n                            /**\n                             * 初始化卷帘地球位置\n                             */\n                            initRollerShutter() {\n                              const Cesium = this.cesium;\n                              if (this.handler) {\n                                this.handler.destroy();\n                                this.handler = null;\n                              }\n                              const slider = this.$refs.slider;\n                              const container = this.$refs.container;\n                              const line = this.$refs.line;\n                              if (!slider && !container) return;\n                              this.handler = new Cesium.ScreenSpaceEventHandler(slider);\n                              this.viewer.scene.splitPosition =\n                                slider.offsetLeft / container.offsetWidth;\n                        \n                              const move = (movement) => {\n                                if (!this.moveActive) return;\n                                const relativeOffset = movement.endPosition.x;\n                                const splitPosition =\n                                  (slider.offsetLeft + relativeOffset) / container?.offsetWidth;\n                                slider.style.left = 100.0 * splitPosition + \'%\';\n                                line.style.left = 100.0 * splitPosition + \'%\';\n                        \n                                this.viewer.scene.splitPosition = splitPosition; // 设置卷帘左右分区范围(0-1)之间\n                              };\n                        \n                              this.handler.setInputAction(() => {\n                                this.moveActive = true;\n                              }, Cesium.ScreenSpaceEventType.LEFT_DOWN);\n                              this.handler.setInputAction(() => {\n                                this.moveActive = true;\n                              }, Cesium.ScreenSpaceEventType.PINCH_START);\n                        \n                              this.handler.setInputAction(move, Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n                              this.handler.setInputAction(move, Cesium.ScreenSpaceEventType.PINCH_MOVE);\n                        \n                              this.handler.setInputAction(() => {\n                                this.moveActive = false;\n                              }, Cesium.ScreenSpaceEventType.LEFT_UP);\n                              this.handler.setInputAction(() => {\n                                this.moveActive = false;\n                              }, Cesium.ScreenSpaceEventType.PINCH_END);\n                            },\n                          },\n                        };'},{codeLanguage:"css",content:"$color: #409eff;\n                    .container {\n                      width: 100%;\n                      height: 100%;\n                      position: relative;\n                    \n                      #cesiumContainer {\n                        width: 100%;\n                        height: 100%;\n                      }\n                    \n                      .slider-view {\n                        .slider-line {\n                          position: absolute;\n                          top: 0;\n                          left: 50%;\n                          transform: translateX(-50%);\n                          background-color: $color;\n                          width: 5px;\n                          height: 100%;\n                          z-index: 2;\n                          pointer-events: none;\n                        }\n                    \n                        .slider {\n                          width: 40px;\n                          height: 40px;\n                          border-radius: 50%;\n                          position: absolute;\n                          top: 50%;\n                          left: 50%;\n                          transform: translate(-50%, -50%);\n                          background-color: $color;\n                          display: flex;\n                          align-items: center;\n                          justify-content: center;\n                          color: #fff;\n                          z-index: 3;\n                          font-size: 24px;\n                    \n                          &:hover {\n                            cursor: ew-resize;\n                          }\n                        }\n                      }\n                    }"}]}],o={data:function(){return{viewer:null,handler:null,moveActive:!1}},created:function(){this.$store.dispatch("highlight/set_code",r)},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;this.viewer=new e.Viewer("cesiumContainer",{shouldAnimate:!0,infoBox:!1,selectionIndicator:!1});var n=new e.UrlTemplateImageryProvider({url:"http://webrd02.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",minimumLevel:1,maximumLevel:18}),t=new e.UrlTemplateImageryProvider({url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",minimumLevel:1,maximumLevel:18}),i=this.viewer.imageryLayers,s=i.addImageryProvider(n),r=i.addImageryProvider(t);r.splitDirection=e.SplitDirection.LEFT,s.splitDirection=e.SplitDirection.RIGHT,this.initRollerShutter()},initRollerShutter:function(){var e=this,n=this.cesium;this.handler&&(this.handler.destroy(),this.handler=null);var t=this.$refs.slider,i=this.$refs.container,s=this.$refs.line;if(t||i){this.handler=new n.ScreenSpaceEventHandler(t),this.viewer.scene.splitPosition=t.offsetLeft/i.offsetWidth;var r=function(n){if(e.moveActive){var r=n.endPosition.x,o=(t.offsetLeft+r)/(null===i||void 0===i?void 0:i.offsetWidth);t.style.left="".concat(100*o,"%"),s.style.left="".concat(100*o,"%"),e.viewer.scene.splitPosition=o}};this.handler.setInputAction((function(){e.moveActive=!0}),n.ScreenSpaceEventType.LEFT_DOWN),this.handler.setInputAction((function(){e.moveActive=!0}),n.ScreenSpaceEventType.PINCH_START),this.handler.setInputAction(r,n.ScreenSpaceEventType.MOUSE_MOVE),this.handler.setInputAction(r,n.ScreenSpaceEventType.PINCH_MOVE),this.handler.setInputAction((function(){e.moveActive=!1}),n.ScreenSpaceEventType.LEFT_UP),this.handler.setInputAction((function(){e.moveActive=!1}),n.ScreenSpaceEventType.PINCH_END)}}}},l=o,a=(t("1b88"),t("cba8")),c=Object(a["a"])(l,i,s,!1,null,"1739acd8",null);n["default"]=c.exports},6762:function(e,n,t){}}]);