(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7df5f046"],{"55ab":function(e,n,t){"use strict";t("be6b")},"9aa3":function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container"},[t("div",{attrs:{id:"cesiumContainer"}}),t("div",{staticClass:"mapSelectionWindow"},[t("el-select",{attrs:{placeholder:"切换地图类型"},on:{change:e.mapSelection},model:{value:e.mapType,callback:function(n){e.mapType=n},expression:"mapType"}},e._l(e.mapList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])},i=[],r=t("c15f"),s=t("a35b"),o=function(){function e(n,t){Object(r["a"])(this,e),this.Cesium=n,this.viewer=t}return Object(s["a"])(e,[{key:"list",get:function(){return[{label:"腾讯地图",value:"tencent"},{label:"OSM地图",value:"osm"},{label:"高德-矢量",value:"gaode-vector"},{label:"高德-影像",value:"gaode-image"},{label:"Bing地图",value:"bing"},{label:"google地图",value:"google"},{label:"天地图",value:"tianditu"},{label:"Mapbox地图",value:"mapbox"},{label:"ArcGis地图",value:"arcgis"}]}},{key:"init",value:function(e,n){return"tencent"==e?this.createTencent(n):"osm"==e?this.createOsm(n):"gaode-vector"==e?this.createGaodeVector(n):"gaode-image"==e?this.createGaodeImage(n):"bing"==e?this.createBing(n):"google"==e?this.createGoogle(n):"tianditu"==e?this.createTianditu(n):"mapbox"==e?this.createMapbox(n):"arcgis"==e?this.createArcGis(n):"baidu"==e?this.createBaidu(n):void 0}},{key:"createTencent",value:function(e){var n=this.Cesium,t=new n.UrlTemplateImageryProvider({url:"https://p2.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=229",customTags:{sx:function(e,n,t,a){return n>>4},sy:function(e,n,t,a){return(1<<a)-t>>4}}});return t}},{key:"createOsm",value:function(e){var n,t=this.Cesium,a=null!==e&&void 0!==e&&e.type?e.type:"white";"white"==a&&(n={url:"https://tile-{s}.openstreetmap.fr/hot/{z}/{x}/{y}.png",subdomains:["a","b","c","d"]}),"black"==a&&(n={url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",subdomains:["a","b","c","d"]});var i=new t.UrlTemplateImageryProvider(n);return i}},{key:"createGaodeVector",value:function(e){var n=this.Cesium,t=new n.UrlTemplateImageryProvider({url:"http://webst02.is.autonavi.com/appmaptile?style=7&x={x}&y={y}&z={z}"});return t}},{key:"createGaodeImage",value:function(e){var n=this.Cesium,t=new n.UrlTemplateImageryProvider({url:"http://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"});return t}},{key:"createBing",value:function(e){var n=this.Cesium,t=null!==e&&void 0!==e&&e.key?e.key:"AnG2da_pErvggXYPqbZs3Fr7U4UWNwyU5rHArWgE6G792Y0wUv4RDBu0xZcHAzvy",a=new n.BingMapsImageryProvider({key:t,url:"https://dev.virtualearth.net",mapStyle:n.BingMapsStyle.AERIAL});return a}},{key:"createGoogle",value:function(e){var n=this.Cesium,t=null!==e&&void 0!==e&&e.lyrs?e.lyrs:"m",a=new n.UrlTemplateImageryProvider({url:"https://www.google.cn/maps/vt?lyrs=".concat(t,"@189&gl=cn&x={x}&y={y}&z={z}")});return a}},{key:"createTianditu",value:function(e){var n=this.Cesium,t=null!==e&&void 0!==e&&e.LAYER?e.LAYER:"vec",a=new n.UrlTemplateImageryProvider({url:"https://t0.tianditu.gov.cn/vec_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=".concat(t,"&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=9a516b0f2a8179bb68f73172cff4bd22")});return a}},{key:"createMapbox",value:function(e){var n=this.Cesium,t=new n.UrlTemplateImageryProvider({url:"https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"});return t}},{key:"createArcGis",value:function(e){var n=this.Cesium,t=new n.ArcGisMapServerImageryProvider({name:"img_arcgis",url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"});return t}},{key:"createBaidu",value:function(e){this.Cesium;var n=new BaiduImageryProvider({url:"http://online{s}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&scaler=1&p=1"});return n}}]),e}(),l=o,c=[{codeLanguage:"VUE",relyOn:[{label:"Map.js",url:"cesium/Map/index.js"}],code:[{codeLanguage:"html",content:'<div class="container">\n                            <div id="cesiumContainer"></div>\n                            <div class="mapSelectionWindow">\n                              <el-select\n                                v-model="mapType"\n                                @change="mapSelection"\n                                placeholder="切换地图类型"\n                              >\n                                <el-option\n                                  v-for="item in mapList"\n                                  :key="item.value"\n                                  :label="item.label"\n                                  :value="item.value"\n                                >\n                                </el-option>\n                              </el-select>\n                            </div>\n                          </div>'},{codeLanguage:"js",content:'import Map from "@/common/cesium/Map/index.js";\n                          export default {\n                            name: "MapsBase",\n                            data() {\n                              return {\n                                viewer: null,\n                                _Map: null,\n                                mapList: [],\n                                mapType: "",\n                              };\n                            },\n                            mounted() {\n                              this.init();\n                            },\n                            methods: {\n                              init() {\n                                const Cesium = this.cesium;\n                                Cesium.Ion.defaultAccessToken = process.env.VUE_APP_TOKEN;\n                                this.viewer = new Cesium.Viewer("cesiumContainer", {\n                                  imageryProvider: new Cesium.ArcGisMapServerImageryProvider({\n                                    url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",\n                                  }),\n                                  terrainProvider: new Cesium.CesiumTerrainProvider({\n                                    //加载火星在线地形\n                                    url: "http://data.marsgis.cn/terrain",\n                                  }),\n                                  shouldAnimate: true,\n                                  infoBox: false,\n                                  selectionIndicator: false,\n                                });\n                                //设置贴地效果\n                                this.viewer.scene.globe.depthTestAgainstTerrain = false;\n                                this._Map = new Map(Cesium, this.viewer);\n                                this.mapList = this._Map.list;\n                              },\n                              /**\n                               * 地图切换\n                               */\n                              mapSelection(e) {\n                                this.viewer.scene.imageryLayers.addImageryProvider(this._Map.init(e));\n                              },\n                            },\n                          };'},{codeLanguage:"css",content:".container {\n                              width: 100%;\n                              height: 100%;\n                              #cesiumContainer {\n                                width: 100%;\n                                height: 100%;\n                              }\n                            }\n                            \n                            .mapSelectionWindow {\n                              width: 300px;\n                              padding: 20px 20px 50px;\n                              box-sizing: border-box;\n                              background-color: rgba(0, 0, 0, 0.5);\n                              position: fixed;\n                              bottom: 0;\n                              right: 0;\n                              z-index: 2;\n                              color: #fff;\n                            }"}]},{codeLanguage:"JS",relyOn:[{label:"BaiDuImageryProvider.js",url:"JavaScript/cesium/Map/module/BaiDuImageryProvider.js"},{label:"Map.js",url:"JavaScript/cesium/Map/index.js"},{label:"Utils.js",url:"JavaScript/cesium/Utils.js"},{label:"openBaseMaps.js",url:"JavaScript/Maps/Base/openBaseMaps.js"}],code:[{codeLanguage:"js",content:"//创建地图选择面板（函数在依赖文件中）\n                  openBaseMaps()\n                  //删除窗口节点\n                  function closeBaseMaps(id) {\n                      const _Utils = new Utils()\n                      _Utils.operationDom('remove', id)\n                  }\n                  //切换地图\n                  function BaseMapsChange(){\n                      const _Map = new Map(Cesium, viewer)\n                      const _value = document.getElementById('BaseMaps-Operation-Window-select').value\n                      viewer.scene.imageryLayers.addImageryProvider(_Map.init(_value));\n                  }"}]}],u={name:"MapsBase",data:function(){return{viewer:null,_Map:null,mapList:[],mapType:""}},created:function(){this.$store.dispatch("highlight/set_code",c)},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",BASE_URL:""}).VUE_APP_TOKEN,this.viewer=new e.Viewer("cesiumContainer",{imageryProvider:new e.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new e.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1,this._Map=new l(e,this.viewer),this.mapList=this._Map.list},mapSelection:function(e){this.viewer.scene.imageryLayers.addImageryProvider(this._Map.init(e))}}},p=u,m=(t("55ab"),t("cba8")),d=Object(m["a"])(p,a,i,!1,null,"72155bd8",null);n["default"]=d.exports},a35b:function(e,n,t){"use strict";function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}t.d(n,"a",(function(){return i}))},be6b:function(e,n,t){},c15f:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));t("5ce7");function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}}}]);