(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ad83a2e"],{"0c42":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"cesiumContainer"}}),n("button",{staticClass:"start",on:{click:e.start}},[e._v("start")])])},r=[],a={data:function(){return{viewer:null,handler:null,centerPoint:null,ellipsoidGather:null}},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",VUE_APP_GAODE_KEY_WEB_SERVICE:"181ced609de9d446207b55e549bafcb6",VUE_APP_GAODE_KEY_WEB_TERMINAL:"cb250acd7ee0e7b2049cb93747ae3d44",VUE_APP_PUBLIC_URL:"/cesium-template",VUE_APP_QINIU_URL:"http://re8r7gk9l.hb-bkt.clouddn.com",VUE_APP_SECURITY_JS_CODE:"2a0ce2005352672661417093c485a056",BASE_URL:"/cesium-template/"}).VUE_APP_TOKEN,this.viewer=new e.Viewer("cesiumContainer",{imageryProvider:new e.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new e.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1},start:function(){var e=this,t=this.cesium,n=this.viewer;this.ellipsoidGather=null,document.getElementById("cesiumContainer").style.cursor="crosshair",n.scene.screenSpaceCameraController.enableRotate=!1,n.scene.screenSpaceCameraController.enableZoom=!1,this.handler=new t.ScreenSpaceEventHandler(n.scene.canvas),this.handler.setInputAction((function(i){var r=n.camera.getPickRay(i.position),a=n.scene.globe.pick(r,n.scene);t.defined(a)&&(e.centerPoint=n.entities.add({name:"centerPoint",position:a,point:{color:t.Color.CHARTREUSE.withAlpha(1),pixelSize:10,heightReference:t.HeightReference.CLAMP_TO_GROUND,outlineColor:t.Color.WHITE,outlineWidth:1}}),e.ellipsoidGather=n.entities.add({position:a,name:"轨迹球体",ellipsoid:{maximumCone:t.Math.PI_OVER_TWO,radii:new t.Cartesian3(.1,.1,.1),material:t.Color.GREENYELLOW.withAlpha(.5)}}))}),t.ScreenSpaceEventType.LEFT_DOWN),this.handler.setInputAction((function(i){if(null!=e.centerPoint&&null!=e.ellipsoidGather){var r=n.camera.getPickRay(i.endPosition),a=n.scene.globe.pick(r,n.scene);if(a){var o=e.centerPoint.position.getValue(t.JulianDate.now()),c=n.scene.globe.ellipsoid.cartesianToCartographic(o),l=n.scene.globe.ellipsoid.cartesianToCartographic(a),s=new t.EllipsoidGeodesic;s.setEndPoints(c,l);var d=s.surfaceDistance;d<=0||(e.ellipsoidGather.ellipsoid.radii=new t.CallbackProperty((function(e,n){return new t.Cartesian3(d,d,d)}),!1))}}}),t.ScreenSpaceEventType.MOUSE_MOVE),this.handler.setInputAction((function(i){document.getElementById("cesiumContainer").style.cursor="default",n.scene.screenSpaceCameraController.enableRotate=!0,n.scene.screenSpaceCameraController.enableZoom=!0,e.handler.removeInputAction(t.ScreenSpaceEventType.LEFT_DOWN),e.handler.removeInputAction(t.ScreenSpaceEventType.MOUSE_MOVE),e.handler.removeInputAction(t.ScreenSpaceEventType.LEFT_UP);var r=n.scene.globe.ellipsoid,a=r.cartesianToCartographic(e.centerPoint.position.getValue(t.JulianDate.now())),o=t.Math.toDegrees(a.latitude),c=t.Math.toDegrees(a.longitude),l=a.height;console.log("圆中心点：经度",c+",纬度："+o+",高度："+l),console.log("圆半径：",e.ellipsoidGather.ellipsoid.radii.getValue().x+"米"),e.ellipsoidGather.ellipsoid.radii.getValue().x<.5&&(n.entities.remove(e.ellipsoidGather),e.ellipsoidGather=null),n.entities.remove(e.centerPoint),e.centerPoint=null}),t.ScreenSpaceEventType.LEFT_UP)}}},o=a,c=(n("984a"),n("cba8")),l=Object(c["a"])(o,i,r,!1,null,"0c554274",null);t["default"]=l.exports},8049:function(e,t,n){},"984a":function(e,t,n){"use strict";n("8049")}}]);