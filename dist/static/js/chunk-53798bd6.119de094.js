(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53798bd6"],{5902:function(e,n,t){"use strict";t("82f1")},"750d":function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container"},[t("div",{attrs:{id:"cesiumContainer"}})])}],a={name:"TextPage",data:function(){return{viewer:null}},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",VUE_APP_GAODE_KEY_WEB_SERVICE:"181ced609de9d446207b55e549bafcb6",VUE_APP_GAODE_KEY_WEB_TERMINAL:"cb250acd7ee0e7b2049cb93747ae3d44",VUE_APP_PUBLIC_URL:"/cesium-template",VUE_APP_QINIU_URL:"http://re8r7gk9l.hb-bkt.clouddn.com",VUE_APP_SECURITY_JS_CODE:"2a0ce2005352672661417093c485a056",VUE_APP_TIANDITU_KEY:"03711cd3e505e56468807c348f271df0",BASE_URL:"/cesium-template/"}).VUE_APP_TOKEN,this.viewer=new e.Viewer("cesiumContainer",{imageryProvider:new e.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new e.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1,this.start()},start:function(){var e=this.cesium,n=this.viewer,t=n.scene,o=n.canvas,r=n.camera,a=n.scene.globe.ellipsoid,i=null,c=null;function s(){console.log("进入漫游模式"),t.screenSpaceCameraController.enableRotate=!1,t.screenSpaceCameraController.enableTranslate=!1,t.screenSpaceCameraController.enableZoom=!1,t.screenSpaceCameraController.enableTilt=!1,t.screenSpaceCameraController.enableLook=!1,i={looking:!1,startPosition:null,endPosition:null,moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1,moveUp:!1,moveDown:!1},c=new e.ScreenSpaceEventHandler(o),c.setInputAction((function(n){i.looking=!0,i.startPosition=e.Cartesian3.clone(n.position),i.endPosition=e.Cartesian3.clone(n.position)}),e.ScreenSpaceEventType.LEFT_DOWN),c.setInputAction((function(e){i.endPosition=e.endPosition}),e.ScreenSpaceEventType.MOUSE_MOVE),c.setInputAction((function(){i.looking=!1}),e.ScreenSpaceEventType.LEFT_UP),document.addEventListener("keydown",m,!1),document.addEventListener("keyup",v,!1),n.clock.onTick.addEventListener(p)}var l=document.createElement("button");function d(){console.log("退出漫游"),c&&(c.destroy(),c=null),document.removeEventListener("keydown",m,!1),document.removeEventListener("keyup",v,!1),n.clock.onTick.removeEventListener(p),t.screenSpaceCameraController.enableRotate=!0,t.screenSpaceCameraController.enableTranslate=!0,t.screenSpaceCameraController.enableZoom=!0,t.screenSpaceCameraController.enableTilt=!0,t.screenSpaceCameraController.enableLook=!0}l.innerText="开启",l.style.position="absolute",l.style.left="20px",l.style.top="20px",l.onclick=s,document.body.appendChild(l);var u=document.createElement("button");function m(e){var n=E(e.keyCode);"undefined"!==typeof n&&(i[n]=!0)}function v(e){var n=E(e.keyCode);"undefined"!==typeof n&&(i[n]=!1)}function p(){if(i.looking){var e=n.canvas.clientWidth,t=n.canvas.clientHeight,o=.05,c=(i.endPosition.x-i.startPosition.x)/e,s=-(i.endPosition.y-i.startPosition.y)/t;r.lookRight(c*o),r.lookUp(s*o)}var l=a.cartesianToCartographic(r.position).height,d=l/100;i.moveForward&&r.moveForward(d),i.moveBackward&&r.moveBackward(d),i.moveUp&&r.moveUp(d),i.moveDown&&r.moveDown(d),i.moveLeft&&r.moveLeft(d),i.moveRight&&r.moveRight(d)}function E(e){switch(e){case"W".charCodeAt(0):return"moveForward";case"S".charCodeAt(0):return"moveBackward";case"Q".charCodeAt(0):return"moveUp";case"E".charCodeAt(0):return"moveDown";case"D".charCodeAt(0):return"moveRight";case"A".charCodeAt(0):return"moveLeft";default:return}}u.innerText="关闭",u.style.position="absolute",u.style.left="70px",u.style.top="20px",u.onclick=d,document.body.appendChild(u)}}},i=a,c=(t("5902"),t("cba8")),s=Object(c["a"])(i,o,r,!1,null,"6b01bcf2",null);n["default"]=s.exports},"82f1":function(e,n,t){}}]);