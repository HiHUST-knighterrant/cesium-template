(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f358111"],{17639:function(e,t,r){},"88c8":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{attrs:{id:"cesiumContainer"}}),r("div",{staticClass:"operation-panel"},[r("el-select",{attrs:{size:"mini",placeholder:"请选择墙体类型"},model:{value:e.wallType,callback:function(t){e.wallType=t},expression:"wallType"}},e._l(e.wallTypeArr,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("el-button",{staticClass:"startButton",attrs:{size:"mini",disabled:""==e.wallType,type:"primary",plain:""},on:{click:e.startDraw}},[e._v("开始绘制")])],1)])},a=[],n=(r("f8d4"),r("a256"),r("68fad"),r("c15f")),o=r("a35b"),l=function(){function e(t,r){Object(n["a"])(this,e),this.Cesium=t,this.viewer=r}return Object(o["a"])(e,[{key:"create",value:function(e){var t=this.Cesium,r=this.viewer,i=null!==e&&void 0!==e&&e.cesiumName?e.cesiumName:"",a=null!==e&&void 0!==e&&e.source?e.source:"",n=null!==e&&void 0!==e&&e.uniforms?e.uniforms:"";function o(){this._definitionChanged=new t.Event,this._color=void 0,this._colorSubscription=void 0,this.color=null!==e&&void 0!==e&&e.color?e.color:t.Color.BLUE,this.duration=null!==e&&void 0!==e&&e.duration?e.duration:1e3,this.image=null!==e&&void 0!==e&&e.image?e.image:"",this._time=(new Date).getTime()}Object.defineProperties(o.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:t.createPropertyDescriptor("color")});var l="Material".concat(parseInt(1e3*Math.random()));return o.prototype.getType=function(e){return l},o.prototype.getValue=function(e,i){return t.defined(i)||(i={}),i.color=t.Property.getValueOrClonedDefault(this._color,e,t.Color.WHITE,i.color),i.image=this.image,this.duration&&(i.time=((new Date).getTime()-this._time)%this.duration/this.duration),r.scene.requestRender(),i},o.prototype.equals=function(e){return this===e||e instanceof o&&t.Property.equals(this._color,e._color)},t.Material._materialCache.addMaterial(l,{fabric:{type:l,uniforms:n,source:a},translucent:function(e){return!0}}),t[i]=o,o}}]),e}(),c=l,s=r("9e48"),u=[{label:"波纹墙",value:"2",position:[123.38624525883692,41.794068393526416,123.38687089890857,41.79395971222164,123.38747418262378,41.7946536433207,123.38875897739584,41.7940600412453,123.3890159272599,41.79370053758991,123.38833443306693,41.79279761067365,123.38875895717108,41.79253843546213,123.38815568203603,41.79180272016025,123.38761944484679,41.7918863236855,123.38630123240169,41.79013897251926,123.38585437199272,41.79028945276436,123.38536283930766,41.789896494564125,123.38432387278195,41.79028940539239,123.38454728140016,41.79082448839793,123.38563087249528,41.792362844994635,123.38519515839681,41.792647091282724,123.38624525883692,41.794068393526416],title:"沈阳站"}],m=r("c407"),d=function(e){var t=function(e){if(e&&e.get){var t="czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 st = materialInput.st;";return"vertical"==e.freely?t+="vec4 colorImage = texture2D(image, vec2(fract(st.s), fract(float("+e.count+")*st.t"+e.direction+" time)));\n ":t+="vec4 colorImage = texture2D(image, vec2(fract(float("+e.count+")*st.s "+e.direction+" time), fract(st.t)));\n ",t+="vec4 fragColor;\n        fragColor.rgb = (colorImage.rgb+color.rgb) / 1.0;\n        fragColor = czm_gammaCorrect(fragColor);\n        material.diffuse = colorImage.rgb;\n        material.alpha = colorImage.a;\n        material.emission = fragColor.rgb;\n        return material;\n    }",t}};return{cesiumName:"Material_DynamicWallMaterialPropertys",image:"/cesium-template/Vue/Entity/wall/wl.png",color:e.Color.CYAN,duration:1500,uniforms:{color:new e.Color(1,0,0,.5),image:e.Material.DefaultImageId,time:-20},source:t({get:!0,count:3,freely:"vertical",direction:"-"})}},f={name:"wall",data:function(){return{viewer:null,_Entity:null,_Utils:null,_Material:null,wallTypeArr:u,wallType:""}},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken=Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",VUE_APP_GAODE_KEY_WEB_SERVICE:"181ced609de9d446207b55e549bafcb6",VUE_APP_GAODE_KEY_WEB_TERMINAL:"cb250acd7ee0e7b2049cb93747ae3d44",VUE_APP_PUBLIC_URL:"/cesium-template",VUE_APP_SECURITY_JS_CODE:"2a0ce2005352672661417093c485a056",BASE_URL:""}).VUE_APP_TOKEN,this.viewer=new e.Viewer("cesiumContainer",{imageryProvider:new e.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new e.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!0,this._Entity=new s["a"](e,this.viewer),this._Utils=new m["a"],this._Material=new c(e,this.viewer)},startDraw:function(){var e=this,t=this.cesium;this._Entity.removeEntity({type:"all"});var r=this.wallTypeArr.filter((function(t){return t.value==e.wallType}));if(0!=r.length){var i=r[0],a=null;"2"==i.value&&(this._Material.create(d(t)),a=new t.Material_DynamicWallMaterialPropertys);var n=t.Cartesian3.fromDegreesArray(i.position),o=this._Entity.createWall({id:"DynamicWallMaterialPropertys",positions:n,material:a,maximumHeights:new Array(n.length).fill(200),minimunHeights:new Array(n.length).fill(0)});this.viewer.flyTo(o)}}}},p=f,v=(r("f767"),r("cba8")),h=Object(v["a"])(p,i,a,!1,null,"2c53e0fb",null);t["default"]=h.exports},c407:function(e,t,r){"use strict";var i=r("c15f"),a=r("a35b"),n=(r("a256"),function(){function e(t,r){Object(i["a"])(this,e),this.Cesium=t,this.viewer=r}return Object(a["a"])(e,[{key:"getRandomColor",get:function(){for(var e="#",t=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"],r=0;r<6;r++){var i=Math.floor(Math.random()*t.length+1)-1;e+=t[i]}return e}},{key:"operationDom",value:function(e,t,r){if("append"===e&&document.getElementById(t).appendChild(r),"remove"===e&&document.getElementById(t).remove(),"has"===e)return document.getElementById(t)}},{key:"debounce",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var a=this,n=arguments;if(t&&clearTimeout(t),i){var o=!t;t=setTimeout((function(){t=null}),r),o&&e.apply(a,n)}else t=setTimeout((function(){e.apply}),r)}}},{key:"throttle",value:function(e,t,r){var i,a=0;return function(){var n=this,o=arguments;if(1===r){var l=Date.now();l-a>t&&(e.apply(n,o),a=l)}else 2===r&&(i||(i=setTimeout((function(){i=null,e.apply(n,o)}),t)))}}},{key:"createScript",value:function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)}},{key:"loadJs",value:function(e,t){return new Promise((function(r,i){var a=document.createElement("script");a.type="text/javascript",null!==t&&void 0!==t&&t.async&&t.async&&(a.async="async"),null!==t&&void 0!==t&&t.defer&&t.defer&&(a.defer="defer");var n="body";null!==t&&void 0!==t&&t.append&&t.append&&("body"==t.append||"head"==t.append)&&(n=t.append),a.src=e,document[n].appendChild(a),a.onload=function(){r()},a.onerror=function(){i()}}))}}]),e}());t["a"]=n},f767:function(e,t,r){"use strict";r("17639")}}]);