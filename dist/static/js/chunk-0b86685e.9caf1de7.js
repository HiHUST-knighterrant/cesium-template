(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b86685e"],{4488:function(n,e,t){var i=t("4162");n.exports=i(1..valueOf)},"4bb1":function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));t("a567");function i(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}},"6ada":function(n,e,t){"use strict";t.r(e);var i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"container"},[t("div",{attrs:{id:"cesiumContainer"}}),t("div",{staticClass:"tip-view"},[t("div",{staticClass:"tip"},[n._v("鼠标右键点击 停止绘制")]),t("el-button",{staticClass:"button",attrs:{type:"primary",plain:""},on:{click:n.start}},[n._v("开始绘制")])],1)])},r=[],a=(t("7502"),t("9e48")),s=[{codeLanguage:"VUE",relyOn:[{label:"Entity.js",url:"cesium/Entity.js"}],code:[{codeLanguage:"html",content:'<div class="container">\n                    <div id="cesiumContainer"></div>\n                    <div class="tip-view">\n                      <div class="tip">鼠标右键点击 停止绘制</div>\n                      <el-button class="button" type="primary" @click="start" plain\n                        >开始绘制</el-button\n                      >\n                    </div>\n                  </div>'},{codeLanguage:"js",content:'import Entity from "@/common/cesium/Entity.js";\n                  export default {\n                    name: "drawPoint",\n                    data() {\n                      return {\n                        viewer: null,\n                        _Entity: null,\n                        handler: null,\n                        cesiumContainer: null,\n                        EntityData: [],\n                      };\n                    },\n                    mounted() {\n                      this.init();\n                    },\n                    methods: {\n                      init() {\n                        const Cesium = this.cesium;\n                        Cesium.Ion.defaultAccessToken = process.env.VUE_APP_TOKEN;\n                        this.viewer = new Cesium.Viewer("cesiumContainer", {\n                          imageryProvider: new Cesium.ArcGisMapServerImageryProvider({\n                            url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",\n                          }),\n                          terrainProvider: new Cesium.CesiumTerrainProvider({\n                            //加载火星在线地形\n                            url: "http://data.marsgis.cn/terrain",\n                          }),\n                          shouldAnimate: true,\n                          infoBox: false,\n                          selectionIndicator: false,\n                        });\n                        //设置贴地效果\n                        this.viewer.scene.globe.depthTestAgainstTerrain = false;\n                        this._Entity = new Entity(Cesium, this.viewer);\n                        this.cesiumContainer = document.getElementById("cesiumContainer");\n                        // this.start();\n                  \n                        //相机\n                        this.viewer.camera.flyTo({\n                          //setView是直接跳到 flyTo// 是镜头飞行到  网速不好或者电脑配置不高 还是不要fly了吧\n                          destination: Cesium.Cartesian3.fromDegrees(\n                            -75.59742934002912,\n                            40.03824624260394,\n                            5000\n                          ), //经纬度坐标转换为 笛卡尔坐标(世界坐标)\n                          orientation: {\n                            heading: Cesium.Math.toRadians(0.0), // east, default value is 0.0 (north) //东西南北朝向\n                            pitch: Cesium.Math.toRadians(-90), // default value (looking down)  //俯视仰视视觉\n                            roll: 0.0, // default value\n                          },\n                          duration: 3, //3秒到达战场\n                        });\n                      },\n                      /**\n                       * 开始\n                       */\n                      start() {\n                        const Cesium = this.cesium;\n                        this.handler = new Cesium.ScreenSpaceEventHandler(\n                          this.viewer.scene.canvas\n                        );\n                        this.cesiumContainer.style.cursor = "crosshair";\n                        //鼠标左键点击\n                        this.handler.setInputAction((event) => {\n                          const ray = this.viewer.camera.getPickRay(event.position);\n                          if (!ray) return null;\n                          const position = this.viewer.scene.globe.pick(ray, this.viewer.scene);\n                          const _EntityData = this._Entity.createPoint({\n                            position,\n                            color: Cesium.Color.SKYBLUE,\n                            pixelSize: 10,\n                            outlineColor: Cesium.Color.YELLOW,\n                            outlineWidth: 3,\n                            disableDepthTestDistance: Number.POSITIVE_INFINITY,\n                          });\n                          this.EntityData.push(_EntityData);\n                        }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n                        //鼠标右键点击\n                        this.handler.setInputAction((event) => {\n                          this.handler.destroy(); //关闭事件句柄\n                          this.handler = null;\n                          this.cesiumContainer.style.cursor = "unset";\n                        }, Cesium.ScreenSpaceEventType.RIGHT_CLICK);\n                      },\n                    },\n                  };'},{codeLanguage:"css",content:".container {\n                      width: 100%;\n                      height: 100%;\n                      #cesiumContainer {\n                        width: 100%;\n                        height: 100%;\n                      }\n                      .tip-view {\n                        position: fixed;\n                        bottom: 0;\n                        right: 0;\n                        background-color: rgba(255, 255, 255, 1);\n                        z-index: 2;\n                        padding: 20px;\n                        border-radius: 10px 0 0 0;\n                        .tip {\n                          color: #e6a23c;\n                        }\n                        .button {\n                          margin-top: 10px;\n                        }\n                      }\n                    }"}]}],o={name:"drawPoint",data:function(){return{viewer:null,_Entity:null,handler:null,cesiumContainer:null,EntityData:[]}},created:function(){this.$store.dispatch("highlight/set_code",s)},mounted:function(){this.init()},methods:{init:function(){var n=this.cesium;n.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlNTIzZTZiYi05OWQxLTQ0OTUtYTUzNC1mYjYxNWI4OTZiZTYiLCJpZCI6OTA3MDUsImlhdCI6MTY1MDUzNDAzMn0.0f1DG8NlExZnbrueMn_AgO6GX_g_RASavpxAWcVymPs",this.viewer=new n.Viewer("cesiumContainer",{imageryProvider:new n.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),terrainProvider:new n.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"}),shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.scene.globe.depthTestAgainstTerrain=!1,this._Entity=new a["a"](n,this.viewer),this.cesiumContainer=document.getElementById("cesiumContainer"),this.viewer.camera.flyTo({destination:n.Cartesian3.fromDegrees(-75.59742934002912,40.03824624260394,5e3),orientation:{heading:n.Math.toRadians(0),pitch:n.Math.toRadians(-90),roll:0},duration:3})},start:function(){var n=this,e=this.cesium;this.handler=new e.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.cesiumContainer.style.cursor="crosshair",this.handler.setInputAction((function(t){var i=n.viewer.camera.getPickRay(t.position);if(!i)return null;var r=n.viewer.scene.globe.pick(i,n.viewer.scene),a=n._Entity.createPoint({position:r,color:e.Color.SKYBLUE,pixelSize:10,outlineColor:e.Color.YELLOW,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY});n.EntityData.push(a)}),e.ScreenSpaceEventType.LEFT_CLICK),this.handler.setInputAction((function(e){n.handler.destroy(),n.handler=null,n.cesiumContainer.style.cursor="unset"}),e.ScreenSpaceEventType.RIGHT_CLICK)}}},c=o,u=(t("6d21"),t("cba8")),l=Object(u["a"])(c,i,r,!1,null,"52fd113f",null);e["default"]=l.exports},"6d21":function(n,e,t){"use strict";t("708c")},"708c":function(n,e,t){},7502:function(n,e,t){"use strict";var i=t("5fa3"),r=t("eaa4"),a=t("4162"),s=t("d12a"),o=t("05b4"),c=t("a220"),u=t("555a"),l=t("736f"),d=t("7d68"),h=t("d957"),p=t("d2b9"),v=t("d0a3").f,m=t("6311").f,f=t("c4d4").f,y=t("4488"),C=t("942b").trim,I="Number",g=r[I],b=g.prototype,w=r.TypeError,E=a("".slice),T=a("".charCodeAt),_=function(n){var e=h(n,"number");return"bigint"==typeof e?e:N(e)},N=function(n){var e,t,i,r,a,s,o,c,u=h(n,"number");if(d(u))throw w("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=C(u),e=T(u,0),43===e||45===e){if(t=T(u,2),88===t||120===t)return NaN}else if(48===e){switch(T(u,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(a=E(u,2),s=a.length,o=0;o<s;o++)if(c=T(a,o),c<48||c>r)return NaN;return parseInt(a,i)}return+u};if(s(I,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var S,A=function(n){var e=arguments.length<1?0:g(_(n)),t=this;return l(b,t)&&p((function(){y(t)}))?u(Object(e),t,A):e},P=i?v(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),L=0;P.length>L;L++)c(g,S=P[L])&&!c(A,S)&&f(A,S,m(g,S));A.prototype=b,b.constructor=A,o(r,I,A,{constructor:!0})}},"78be":function(n,e,t){var i=t("46a7"),r=t("bc35"),a=t("5386");i({target:"Array",proto:!0},{fill:r}),a("fill")},bc35:function(n,e,t){"use strict";var i=t("735b"),r=t("32da"),a=t("1c60");n.exports=function(n){var e=i(this),t=a(e),s=arguments.length,o=r(s>1?arguments[1]:void 0,t),c=s>2?arguments[2]:void 0,u=void 0===c?t:r(c,t);while(u>o)e[o++]=n;return e}},e143:function(n,e,t){"use strict";function i(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function r(n,e,t){return e&&i(n.prototype,e),t&&i(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}t.d(e,"a",(function(){return r}))}}]);