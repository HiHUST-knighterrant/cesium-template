(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1312b1e"],{"0b89":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"cesiumContainer"}}),n("panel-view",{on:{draws:e.draws,clears:e.clears}})],1)},i=[],o=(n("7502"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"panel-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("操作面板")]),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.clears}},[e._v("清楚")])],1),n("div",{staticClass:"panel-content"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.clickCreate("Point")}}},[e._v("绘制点")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.clickCreate("Polyline")}}},[e._v("绘制线")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.clickCreate("polygon")}}},[e._v("绘制面")])],1)])}),c=[],a={props:{option:{type:Object,default:function(){return{}}}},data:function(){return{clickCreateFor:[{label:"",value:""}]}},created:function(){},mounted:function(){},methods:{clickCreate:function(e){this.$emit("draws",e)},clears:function(){this.$emit("clears")}}},s=a,u=(n("a6cb"),n("cba8")),l=Object(u["a"])(s,o,c,!1,null,"1ebfe5c3",null),f=l.exports,p=n("9192"),h=n("4bb1"),d=n("e143");n("a567"),n("dba9");function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}n("bfa4"),n("eb3b"),n("68eb"),n("db8c");function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=n("900a");function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){if(t&&("object"===Object(m["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function E(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}var C=n("9e48"),O=function(e){y(n,e);var t=E(n);function n(){return Object(h["a"])(this,n),t.apply(this,arguments)}return Object(d["a"])(n,[{key:"createPoint",value:function(e,t,n){var r=this.Cesium,i=this.viewer,o=new C["a"](this.Cesium,this.viewer);t.setInputAction((function(t){var c=i.camera.getPickRay(t.position),a=i.scene.globe.pick(c,i.scene);if(r.defined(a)){var s=o.createPoint(Object(p["a"])({position:a},e));n({entity:s,entityMsg:"绘制点",handlerMsg:"左键",msg:"成功",code:200})}}),r.ScreenSpaceEventType.LEFT_DOWN),t.setInputAction((function(e){t=null,n({entity:void 0,entityMsg:"绘制点",handlerMsg:"右键",msg:"成功",code:201})}),r.ScreenSpaceEventType.RIGHT_CLICK)}},{key:"createPolyline",value:function(e,t,n){var r=this,i=this.Cesium,o=new C["a"](this.Cesium,this.viewer),c=null,a=[],s=function(e){return r.viewer.scene.camera.pickEllipsoid(e,r.viewer.scene.globe.ellipsoid)};t.setInputAction((function(e){var t=s(e.position);i.defined(t)&&(0==a.length&&a.push(t.clone()),a.push(t),n({entity:void 0,entityMsg:"绘制线",handlerMsg:"左键",msg:"成功",code:202}))}),i.ScreenSpaceEventType.LEFT_CLICK),t.setInputAction((function(t){var r=s(t.endPosition);if(a.length>=2){if(i.defined(c))void 0!=r&&(a.pop(),r.y+=1+Math.random(),a.push(r));else{var u=new i.CallbackProperty((function(){return a}),!1);c=o.createPolyline(Object(p["a"])({positions:u},e))}n({entity:a,entityMsg:"绘制线",handlerMsg:"移动",msg:"成功",code:200})}}),i.ScreenSpaceEventType.MOUSE_MOVE),t.setInputAction((function(e){t=null,n({entity:void 0,entityMsg:"绘制线",handlerMsg:"右键",msg:"成功",code:201})}),i.ScreenSpaceEventType.RIGHT_CLICK)}},{key:"createPolygon",value:function(e,t,n){var r=this,i=this.Cesium,o=new C["a"](this.Cesium,this.viewer),c=[],a=[],s=[],u=null,l=function(e){return r.viewer.scene.camera.pickEllipsoid(e,r.viewer.scene.globe.ellipsoid)};t.setInputAction((function(e){var t=r.viewer.camera.getPickRay(e.position);if(a=r.viewer.scene.globe.pick(t,r.viewer.scene),i.defined(a)){s.push(a);s.length;var n=o.createPoint({position:a,color:i.Color.SKYBLUE,pixelSize:10,outlineColor:i.Color.YELLOW,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY,heightReference:i.HeightReference.CLAMP_TO_GROUND});c.push(n)}}),i.ScreenSpaceEventType.LEFT_CLICK),t.setInputAction((function(e){var t=l(e.endPosition);if(i.defined(u))void 0!=t&&(s.pop(),t.y+=1+Math.random(),s.push(t));else{var r=new i.CallbackProperty((function(){return s}),!1);u=o.createPolyline({positions:r,material:i.Color.RED,width:2})}var a=s.length;if(a>=3){var f=o.createPolygon({hierarchy:new i.CallbackProperty((function(e,t){return new i.PolygonHierarchy(s,null)}),!1),material:i.Color.fromCssColorString("#FFD700").withAlpha(.2)});c.push(f)}n({entity:void 0,entityMsg:"绘制面",handlerMsg:"移动",msg:"成功",code:202})}),i.ScreenSpaceEventType.MOUSE_MOVE),t.setInputAction((function(e){var r=new i.CallbackProperty((function(){return[s[s.length-1],s[0]]}),!1);u=o.createPolyline({positions:r,material:i.Color.RED,width:2}),c.push(u),t=null,n({entity:c,entityMsg:"绘制面",handlerMsg:"右键",msg:"成功",code:200})}),i.ScreenSpaceEventType.RIGHT_CLICK)}}]),n}(C["a"]),_=O,S={components:{panelView:f},data:function(){return{viewer:null,handler:null,_Draw:null}},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlNTIzZTZiYi05OWQxLTQ0OTUtYTUzNC1mYjYxNWI4OTZiZTYiLCJpZCI6OTA3MDUsImlhdCI6MTY1MDUzNDAzMn0.0f1DG8NlExZnbrueMn_AgO6GX_g_RASavpxAWcVymPs",this.viewer=new e.Viewer("cesiumContainer",{animation:!1,timeline:!1,shouldAnimate:!0,infoBox:!1,selectionIndicator:!1}),this.viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(e.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this._Draw=new _(e,this.viewer)},clears:function(){var e=this.cesium;this.handler&&(this.handler.removeInputAction(e.ScreenSpaceEventType.LEFT_DOWN),this.handler.removeInputAction(e.ScreenSpaceEventType.MOUSE_MOVE),this.handler.removeInputAction(e.ScreenSpaceEventType.LEFT_UP),this.handler.destroy(),this.handler=null),this.viewer.entities.removeAll(),this.viewer.scene.postProcessStages.removeAll()},draws:function(e){var t=this,n=this.cesium,r=this.viewer;this.handler=new n.ScreenSpaceEventHandler(r.scene.canvas),"Point"==e&&this._Draw.createPoint({color:n.Color.SKYBLUE,pixelSize:10,outlineColor:n.Color.YELLOW,outlineWidth:3,disableDepthTestDistance:Number.POSITIVE_INFINITY},this.handler,(function(e){e.code,201==e.code&&(t.handler.destroy(),t.handler=null)})),"Polyline"==e&&this._Draw.createPolyline({material:n.Color.RED,width:5},this.handler,(function(e){e.code,201==e.code&&(t.handler.destroy(),t.handler=null)})),"polygon"==e&&this._Draw.createPolygon({},this.handler,(function(e){200==e.code&&(t.handler.destroy(),t.handler=null)}))}}},T=S,P=(n("ec7e"),Object(u["a"])(T,r,i,!1,null,"6f1b9be1",null));t["default"]=P.exports},4488:function(e,t,n){var r=n("4162");e.exports=r(1..valueOf)},"4bb1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a567");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"68eb":function(e,t,n){var r=n("46a7"),i=n("eaa4"),o=n("2a86");r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},7502:function(e,t,n){"use strict";var r=n("5fa3"),i=n("eaa4"),o=n("4162"),c=n("d12a"),a=n("05b4"),s=n("a220"),u=n("555a"),l=n("736f"),f=n("7d68"),p=n("d957"),h=n("d2b9"),d=n("d0a3").f,v=n("6311").f,y=n("c4d4").f,b=n("4488"),w=n("942b").trim,m="Number",g=i[m],I=g.prototype,E=i.TypeError,C=o("".slice),O=o("".charCodeAt),_=function(e){var t=p(e,"number");return"bigint"==typeof t?t:S(t)},S=function(e){var t,n,r,i,o,c,a,s,u=p(e,"number");if(f(u))throw E("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=w(u),t=O(u,0),43===t||45===t){if(n=O(u,2),88===n||120===n)return NaN}else if(48===t){switch(O(u,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(o=C(u,2),c=o.length,a=0;a<c;a++)if(s=O(o,a),s<48||s>i)return NaN;return parseInt(o,r)}return+u};if(c(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var T,P=function(e){var t=arguments.length<1?0:g(_(e)),n=this;return l(I,n)&&h((function(){b(n)}))?u(Object(t),n,P):t},N=r?d(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;N.length>A;A++)s(g,T=N[A])&&!s(P,T)&&y(P,T,v(g,T));P.prototype=I,I.constructor=P,a(i,m,P,{constructor:!0})}},"78be":function(e,t,n){var r=n("46a7"),i=n("bc35"),o=n("5386");r({target:"Array",proto:!0},{fill:i}),o("fill")},"974f":function(e,t,n){},a6cb:function(e,t,n){"use strict";n("974f")},bc35:function(e,t,n){"use strict";var r=n("735b"),i=n("32da"),o=n("1c60");e.exports=function(e){var t=r(this),n=o(t),c=arguments.length,a=i(c>1?arguments[1]:void 0,n),s=c>2?arguments[2]:void 0,u=void 0===s?n:i(s,n);while(u>a)t[a++]=e;return t}},bfa4:function(e,t,n){var r=n("46a7"),i=n("76bf"),o=n("06a7"),c=n("e727"),a=n("a644"),s=n("9923"),u=n("5621"),l=n("8b38"),f=n("d2b9"),p=i("Reflect","construct"),h=Object.prototype,d=[].push,v=f((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),y=!f((function(){p((function(){}))})),b=v||y;r({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(e,t){a(e),s(t);var n=arguments.length<3?e:a(arguments[2]);if(y&&!v)return p(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(d,r,t),new(o(c,e,r))}var i=n.prototype,f=l(u(i)?i:h),b=o(e,f,t);return u(b)?b:f}})},e143:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return i}))},e525:function(e,t,n){},e727:function(e,t,n){"use strict";var r=n("4162"),i=n("bc26"),o=n("5621"),c=n("a220"),a=n("8cc0"),s=n("6ef5"),u=Function,l=r([].concat),f=r([].join),p={},h=function(e,t,n){if(!c(p,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";p[t]=u("C,a","return new C("+f(r,",")+")")}return p[t](e,n)};e.exports=s?u.bind:function(e){var t=i(this),n=t.prototype,r=a(arguments,1),c=function(){var n=l(r,a(arguments));return this instanceof c?h(t,n.length,n):t.apply(e,n)};return o(n)&&(c.prototype=n),c}},ec7e:function(e,t,n){"use strict";n("e525")}}]);